{"version":3,"sources":["serviceWorker.js","redux/followReducer.js","redux/appReducer.js","redux/reduxStore.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Nav/Nav.jsx","components/MyProfile/MyProfileStatus/MyProfileStatusWithHooks.jsx","components/MyProfile/MyProfileStatus/MyProfileStatusContainer.jsx","components/MyProfile/MyProfile.jsx","components/MyProfile/MyProfileContainer.jsx","redux/selectors/followSelector.js","components/Follow/User/User.jsx","components/Follow/Follow.jsx","components/Follow/FollowContainer.jsx","components/hoc/withSuspense.jsx","App.js","index.js","redux/userProfileReducer.js","components/Header/Header.module.css","components/common/Preloader/Preloader.jsx","redux/authReducer.js","redux/selectors/profileSelector.js","components/MyProfile/MyProfileStatus/MyProfileStatus.module.css","components/Follow/User/User.module.css","components/MyProfile/MyProfile.module.css","components/common/Preloader/Preloader.module.css","api/api.js","img/undefinedUser.png","components/hoc/withAuthRedirect.jsx","utils/helpers/helperObject.js","redux/usersPageReducer.js","redux/newsPageReducer.js","redux/messagesPageReducer.js","components/Nav/Nav.module.css","img/loader.svg","components/Follow/Follow.module.css"],"names":["Boolean","window","location","hostname","match","initialState","followData","id","name","avatar","followReducer","state","stateCopy","initialized","appReducer","action","type","reducers","combineReducers","newsReducer","messagesReducer","usersReducer","userProfileReducer","authReducer","form","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Header","props","onLogoutClick","onLogout","className","style","header","headerLogoBlock","src","alt","title","loginBlock","isAuth","logoutButton","onClick","to","loginButton","HeaderContainer","unsetUser","this","userId","React","Component","actionCreators","unsetUserThunkCreator","connect","userData","Nav","nav","activeClassName","active","item","MyProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","activateStatusEditMode","statusBlock","userInfoTitle","statusTitle","autoFocus","value","onBlur","updateStatus","onChange","e","currentTarget","statusText","onDoubleClick","onTouchStart","undefined","updateUserStatusThunkCreator","MyProfileStatusContainer","getStatus","MyProfile","templateAbout","hasContacts","contacts","key","profile","user","userImageBlock","photos","large","userImage","undefinedUser","userInfoBlock","userInfoBlockItem","userFullnameBlock","userFullnameTitle","userFullname","fullName","userContactsBlock","userContactsList","map","url","userContactsListItem","href","userContactslink","userContactsUnavailable","userAboutBlock","userAbout","aboutMe","MyProfileAPIContainer","initProfile","unsetUserProfile","init","Preloader","unsetUserProfileActionCreator","MyProfileContainer","withAuthRedirect","getId","getProfile","getFollowComponentUsers","User","userDesc","userName","addUser","Follow","follow","followItem","FollowContainer","dispatch","withSuspense","Suspense","fallback","NewsContainer","lazy","UsersContainer","MessagesContainer","UserProfileContainer","LoginContainer","App","initializeApp","isInitialized","path","render","checkAuthPromise","checkAuthThunkCreator","Promise","all","then","AppContainer","withRouter","MainApp","basename","process","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message","SET_USER_PROFILE","UNSET_USER_PROFILE","SET_USER_STATUS","SET_INIT","userProfile","userStatus","setUserStatusActionCreator","a","profileAPI","resultCode","setUserInfoById","response","getUserProfileThunkCreator","getUserStatusThunkCreator","module","exports","preloader","loader","preloaderImage","email","login","unsetUserActionCreator","payload","setIsAuthActionCreator","authAPI","me","data","logout","setIsAuthThunkCreator","formData","error_message","messages","length","stopSubmit","_error","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","count","page","get","followUserById","post","unfollowUserById","delete","warn","put","password","rememberMe","captcha","RedirectComponent","updateObjectInArray","items","itemId","objPropName","newObjProp","parseInt","usersData","pageSize","totalUsers","pagesCount","pages","currentPage","isFetching","followingInProgress","followActionCreator","user_id","unfollowActionCreator","followingProgressActionCreator","progress","setUsersActionCreator","users","showMore","setTotalUsersActionCreator","setPageSizeActionCreator","size","setPagesCountActionCreator","setCurrentPageActionCreator","pageNum","setIsFetchingActionCreator","getUsersThunkCreator","Math","ceil","totalCount","toggleFollowThunkCreator","isFollow","toggleFollowUnfollow","bind","showMoreUsersThunkCreator","apiMethod","actionCreator","i","push","followed","filter","postsData","postText","postPhoto","authorAvatar","authorName","newPostText","addPostActionCreator","newPost","p","post_id","dialogsData","lastMessage","activeDialogMessagesData","author","addNewMessageCreator","newMessage","newMessageText"],"mappings":"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","file":"static/js/main.efc1af64.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","let initialState = {\r\n    followData: [\r\n        {\r\n            id: 1,\r\n            name: \"Diana Amber\",\r\n            avatar: \"https://themified.com/friend-finder/images/users/user-11.jpg\",\r\n        },\r\n        {\r\n            id: 2,\r\n            name: \"Cris Haris\",\r\n            avatar: \"https://themified.com/friend-finder/images/users/user-12.jpg\",\r\n        },\r\n        {\r\n            id: 3,\r\n            name: \"Brian Walton\",\r\n            avatar: \"https://themified.com/friend-finder/images/users/user-13.jpg\",\r\n        },\r\n    ],\r\n}\r\n\r\nconst followReducer = (state = initialState, action) => {\r\n\r\n    let stateCopy = {...state}\r\n\r\n    return stateCopy;\r\n}\r\n\r\nexport default followReducer;","import { checkAuthThunkCreator } from \"./authReducer\";\r\n\r\nconst SET_INITIALIZED = 'SET-INITIALIZED';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case SET_INITIALIZED: {\r\n            stateCopy = {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n            break;\r\n        }\r\n        default: \r\n            stateCopy = {...state}\r\n    }\r\n\r\n    return stateCopy;\r\n}\r\n\r\nexport const setInitializedCreator = () => {\r\n    let action = {\r\n        type: SET_INITIALIZED,\r\n    }\r\n    return action;\r\n}\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let checkAuthPromise =  dispatch(checkAuthThunkCreator());\r\n\r\n    Promise.all([checkAuthPromise]).then( () => {\r\n        dispatch(setInitializedCreator());\r\n    })\r\n}\r\n\r\nexport default appReducer;","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport newsReducer from \"./newsPageReducer\";\r\nimport messagesReducer from \"./messagesPageReducer\";\r\nimport followReducer from \"./followReducer\";\r\nimport usersReducer from \"./usersPageReducer\";\r\nimport userProfileReducer from \"./userProfileReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\n\r\nlet reducers = combineReducers({\r\n    appReducer,\r\n    newsReducer,\r\n    messagesReducer,\r\n    followReducer,\r\n    usersReducer,\r\n    userProfileReducer,\r\n    authReducer,\r\n    form: formReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport style from \"./Header.module.css\";\r\n\r\nlet Header = (props) => {\r\n\r\n    const onLogoutClick = () => {\r\n        props.onLogout();\r\n    }\r\n\r\n    return (\r\n        <header className={style.header}>\r\n            <div className={style.headerLogoBlock}>\r\n                <img\r\n                    src=\"https://www.pngmart.com/files/7/Envelope-Mail-PNG-Free-Download.png\"\r\n                    alt=\"Logo\"\r\n                />\r\n                <h1 className={style.title}>\r\n                    MessageMe\r\n                </h1>\r\n            </div>\r\n            <div className={style.loginBlock}>\r\n                {\r\n                    props.isAuth\r\n                    ? \r\n                        <button className={style.logoutButton} onClick={onLogoutClick}>\r\n                            Logout\r\n                        </button>\r\n                    : \r\n                        <NavLink to='/login'>\r\n                            <button className={style.loginButton} onClick={onLogoutClick}>\r\n                                Login\r\n                            </button>\r\n                        </NavLink>\r\n\r\n                }\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\nexport default Header;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { unsetUserThunkCreator } from '../../redux/authReducer';\r\n\r\nclass HeaderContainer extends React.Component \r\n{\r\n    onLogout = () => {\r\n        this.props.unsetUser();\r\n    }\r\n\r\n    render () {\r\n        return <Header {...this.props} userId={this.props.userId} onLogout={this.onLogout}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.authReducer.isAuth,\r\n        userData: state.authReducer.userData,\r\n    }\r\n}\r\n\r\nlet actionCreators = {\r\n    unsetUser: unsetUserThunkCreator,\r\n}\r\n\r\nexport default connect(mapStateToProps, actionCreators)(HeaderContainer);\r\n\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport style from \"./Nav.module.css\";\r\n\r\nlet Nav = () => {\r\n    return (\r\n        <nav className={style.nav}>\r\n            <h4 className={style.title}>Menu</h4>\r\n            <ul>\r\n                <li>\r\n                    <NavLink\r\n                        activeClassName={style.active}\r\n                        to=\"/profile\"\r\n                        className={style.item}\r\n                    >\r\n                        My Profile\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink\r\n                        className={style.item}\r\n                        to=\"/messages\"\r\n                        activeClassName={style.active}\r\n                    >\r\n                        Messages\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink\r\n                        className={style.item}\r\n                        to=\"/news\"\r\n                        activeClassName={style.active}\r\n                    >\r\n                        News\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink\r\n                        className={style.item}\r\n                        to=\"/music\"\r\n                        activeClassName={style.active}\r\n                    >\r\n                        Music\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink\r\n                        to=\"/settings\"\r\n                        className={style.item}\r\n                        activeClassName={style.active}\r\n                    >\r\n                        Settings\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink\r\n                        to=\"/users\"\r\n                        className={style.item}\r\n                        activeClassName={style.active}\r\n                    >\r\n                        Users\r\n                    </NavLink>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    );\r\n};\r\nexport default Nav;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport style from \"./MyProfileStatus.module.css\";\r\n\r\nconst MyProfileStatusWithHooks = (props) => {\r\n    \r\n    /** destructure assignment */\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n\r\n    const activateStatusEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    const diactivateStatusEditMode = () => {\r\n        props.updateStatus(status);\r\n        setEditMode(false);\r\n    }\r\n\r\n    const onChangeStatusText = (e) => {\r\n        let status = e.currentTarget.value;\r\n        setStatus(status);\r\n    }\r\n\r\n    return (\r\n        <div className={style.statusBlock}>\r\n            <h3 className={style.userInfoTitle + \" \" + style.statusTitle}>\r\n                Status\r\n            </h3>\r\n            {editMode ? (\r\n                <div>\r\n                    <input \r\n                        type=\"text\" \r\n                        autoFocus={true} \r\n                        value={status}\r\n                        onBlur={diactivateStatusEditMode}\r\n                        onChange={onChangeStatusText}\r\n                    />\r\n                </div>\r\n            ) : (\r\n                <span \r\n                    className={style.statusText}\r\n                    onDoubleClick={activateStatusEditMode}\r\n                    onTouchStart={activateStatusEditMode}\r\n                >\r\n                    {props.status !== \"\" && props.status !== undefined\r\n                        ? props.status\r\n                        : \"No status\"}\r\n                </span>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyProfileStatusWithHooks;\r\n","import { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { getStatus } from \"../../../redux/selectors/profileSelector\";\r\nimport { updateUserStatusThunkCreator } from \"../../../redux/userProfileReducer\";\r\nimport MyProfileStatusWithHooks from \"./MyProfileStatusWithHooks\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        status: getStatus(state),\r\n    }\r\n}\r\nconst actionCreators = {\r\n    updateStatus: updateUserStatusThunkCreator,\r\n}\r\n\r\nlet MyProfileStatusContainer = compose(\r\n    connect(mapStateToProps, actionCreators)\r\n)(MyProfileStatusWithHooks);\r\n\r\nexport default MyProfileStatusContainer;","import React from 'react';\r\nimport style from './MyProfile.module.css';\r\nimport undefinedUser from '../../img/undefinedUser.png'\r\nimport MyProfileStatusContainer from './MyProfileStatus/MyProfileStatusContainer';\r\n\r\nclass MyProfile extends React.Component\r\n{    \r\n\r\n    templateAbout = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi tempus libero vel massa vulputate congue. Aenean commodo sem vitae dolor varius, in cursus est semper. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Maecenas nulla augue, pretium in metus eu, gravida auctor quam. Donec et sem metus. Nulla sit amet eros sem. Sed vel lacinia est, id laoreet erat.';\r\n\r\n    hasContacts = false;\r\n    contacts = [];\r\n\r\n    componentDidMount() {\r\n        for (let key in this.props.profile.contacts) {\r\n            if (this.props.profile.contacts.key !== undefined) {\r\n                this.hasContacts = true;\r\n                this.contacts[key] = this.props.profile.contacts.key;\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={style.user}>\r\n                <div className={style.userImageBlock}>\r\n                    {\r\n                        this.props.profile.photos.large\r\n                        ? <img src={this.props.profile.photos.large} alt=\"\" className={style.userImage} />\r\n                        : <img src={undefinedUser} alt=\"\" className={style.userImage} />\r\n                    }\r\n                </div>\r\n                <div className={style.userInfoBlock}>\r\n                    <div className={style.userInfoBlockItem + ' ' + style.userFullnameBlock}>\r\n                        <h3 className={style.userInfoTitle + ' ' + style.userFullnameTitle}>\r\n                            Fullname\r\n                        </h3>\r\n                        <span className={style.userFullname}>\r\n                            {this.props.profile.fullName}\r\n                        </span>\r\n                        <MyProfileStatusContainer userId={this.props.profile.userId}/>\r\n                    </div>\r\n                    <div className={style.userInfoBlockItem + ' ' + style.userContactsBlock}>\r\n                        <h3 className={style.userInfoTitle + ' ' + style.userFullnameTitle}>\r\n                            Contacts\r\n                        </h3>\r\n                        {\r\n                            this.hasContacts\r\n                            ?                     \r\n                                <ul className={style.userContactsList}>\r\n                                    {\r\n                                        this.contacts.map( (url, key) => (\r\n                                            <li className={style.userContactsListItem + ' ' + key}>\r\n                                                <a href={url} className={style.userContactslink}>\r\n                                                    {key}\r\n                                                </a>\r\n                                            </li>\r\n                                        ))\r\n                                    }\r\n                                </ul>\r\n                            : \r\n                                <span className={style.userContactsUnavailable}>\r\n                                    User has no available contatcs\r\n                                </span>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className={style.userAboutBlock}>\r\n                    <p className={style.userAbout}>\r\n                        {\r\n                            this.props.profile.aboutMe\r\n                            ? this.props.profile.aboutMe\r\n                            : this.templateAbout\r\n                        }\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nexport default MyProfile;","import React from 'react';\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport MyProfile from \"./MyProfile\";\r\nimport withAuthRedirect from \"../hoc/withAuthRedirect\";\r\nimport {\r\n    initProfile,\r\n    unsetUserProfileActionCreator,\r\n} from '../../redux/userProfileReducer';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { getId, getProfile } from '../../redux/selectors/profileSelector';\r\n\r\nclass MyProfileAPIContainer extends React.Component \r\n{\r\n    componentDidMount() {\r\n        this.props.initProfile(this.props.id);\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n        this.props.unsetUserProfile();\r\n    }\r\n\r\n    render () {\r\n        if (!this.props.init) {\r\n            return <Preloader />;\r\n        }\r\n        return (\r\n            <MyProfile \r\n                {...this.props} \r\n                profile={this.props.profile} \r\n            />\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        id: getId(state),\r\n        profile: getProfile(state),\r\n        init: state.userProfileReducer.init,\r\n    };\r\n};\r\n\r\nconst actionCreators = {\r\n    unsetUserProfile: unsetUserProfileActionCreator,\r\n    initProfile: initProfile\r\n};\r\n\r\nlet MyProfileContainer = compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, actionCreators),\r\n)(MyProfileAPIContainer);\r\n\r\nexport default MyProfileContainer;\r\n","export const getFollowComponentUsers = (state) => {\r\n    return state.followReducer.followData;\r\n}","import React from \"react\";\r\nimport style from \"./User.module.css\";\r\n\r\nlet User = (props) => {\r\n    return (\r\n        <div className={style.user}>\r\n            <img src={props.avatar} alt=\"\" />\r\n            <div className={style.userDesc}>\r\n                <span className={style.userName}>{props.name}</span>\r\n                <span className={style.addUser}>Add friend</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default User;\r\n","import React from \"react\";\r\nimport style from \"./Follow.module.css\";\r\nimport User from \"./User/User\";\r\n\r\nlet Follow = (props) => {\r\n\r\n    let follow = props.followData\r\n                    .map(followItem => \r\n                        <User\r\n                            name={followItem.name}\r\n                            avatar={followItem.avatar}\r\n                            key={followItem.id}\r\n                        />\r\n                    );\r\n\r\n    return (\r\n        <div className={style.follow}>\r\n            <h4>Who to Follow</h4>\r\n            {follow}\r\n        </div>\r\n    );\r\n};\r\nexport default Follow;\r\n","import { connect } from \"react-redux\";\r\nimport { getFollowComponentUsers } from \"../../redux/selectors/followSelector\";\r\nimport Follow from \"./Follow\"\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        followData: getFollowComponentUsers(state),\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        \r\n    } \r\n}\r\n\r\nconst FollowContainer = connect(mapStateToProps, mapDispatchToProps)(Follow);\r\n\r\nexport default FollowContainer;\r\n","import React from \"react\";\r\nimport Preloader from '../common/Preloader/Preloader';\r\n\r\nconst withSuspense = (Component) => (props) => {\r\n    return (\r\n        <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props} />\r\n        </React.Suspense>  \r\n    );\r\n};\r\n\r\nexport default withSuspense;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport store from \"./redux/reduxStore\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Nav from \"./components/Nav/Nav\";\nimport MyProfileContainer from \"./components/MyProfile/MyProfileContainer\";\nimport FollowContainer from \"./components/Follow/FollowContainer\";\nimport { Route, withRouter, HashRouter } from \"react-router-dom\";\nimport { Component } from \"react\";\nimport { connect, Provider } from \"react-redux\";\nimport { initializeApp } from \"./redux/appReducer\";\nimport { compose } from \"redux\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport withSuspense from \"./components/hoc/withSuspense\";\n\n/** Lazy load */\nconst NewsContainer = React.lazy(() => import(\"./components/News/NewsContainer\"));\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"));\nconst MessagesContainer = React.lazy(() => import(\"./components/Messages/MessagesContainer\"));\nconst UserProfileContainer = React.lazy(() => import(\"./components/UserProfile/UserProfileContainer\"));\nconst LoginContainer = React.lazy(() => import(\"./components/Login/LoginContainer\"));\n\n\nclass App extends Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.isInitialized) {\n            return <Preloader />;\n        }\n        return (\n            <div>\n                <div className=\"header-background\">\n                    <div className=\"wrapper wrapper-header\">\n                        <HeaderContainer />\n                    </div>\n                </div>\n                <div className=\"wrapper wrapper-content\">\n                    <aside className=\"sidebar\">\n                        <Nav />\n                        <FollowContainer />\n                    </aside>\n                    <div className=\"content\">\n                        <Route path=\"/news\" render={withSuspense(NewsContainer)}/>\n                        <Route\n                            path=\"/messages\"\n                            render={withSuspense(MessagesContainer)}/>\n                        <Route\n                            path=\"/users\"\n                            render={withSuspense(UsersContainer)} />\n                        <Route\n                            path=\"/user/:userId\"\n                            render={withSuspense(UserProfileContainer)}/>\n                        <Route\n                            path=\"/profile\"\n                            render={() => <MyProfileContainer />}\n                        />\n                        <Route path=\"/login\" render={withSuspense(LoginContainer)} />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        isInitialized: state.appReducer.initialized,\n    }\n}\n\nlet actionCreators = {\n    initializeApp: initializeApp,\n}\n\nconst AppContainer =  compose(\n    withRouter, \n    connect(mapStateToProps, actionCreators),\n)(App);\n\nconst MainApp = (props) => {\n    return (\n        <Provider store={store}>\n            <HashRouter basename={process.env.PUBLIC_URL}>\n                <AppContainer store={store} />\n            </HashRouter>\n        </Provider>\n    )\n}\n\nexport default MainApp;\n","import * as serviceWorker from \"./serviceWorker\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport MainApp from \"./App\";\n\nReactDOM.render(<MainApp/>, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import {profileAPI} from '../api/api'\r\n\r\nconst SET_USER_PROFILE = 'message-me/userProfile/SET-USER-PROFILE';\r\nconst UNSET_USER_PROFILE = 'message-me/userProfile/UNSET-USER-PROFILE';\r\nconst SET_USER_STATUS = 'message-me/userProfile/SET-USER-STATUS';\r\nconst SET_INIT = 'message-me/userProfile/SET-INIT-PROFILE';\r\n\r\n\r\nlet initialState = {\r\n    userProfile: null,\r\n    userStatus: \"\",\r\n    init: false,\r\n}\r\n\r\nconst userProfileReducer = (state = initialState, action) => {\r\n\r\n    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case SET_INIT: {\r\n            stateCopy = {\r\n                ...state,\r\n                userProfile: {...state.userProfile},\r\n                init: true,\r\n            }\r\n            break;\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            stateCopy = {\r\n                ...state,\r\n                userProfile: {...action.userProfile},\r\n            }\r\n            break;\r\n        }\r\n        case UNSET_USER_PROFILE: {\r\n            stateCopy = {\r\n                ...state,\r\n                userProfile: null,\r\n                userStatus: \"\",\r\n                init: false,\r\n            }\r\n            break;\r\n        }\r\n        case SET_USER_STATUS: {\r\n            stateCopy = {\r\n                ...state,\r\n                userStatus: action.status,\r\n            }\r\n            break;\r\n        }\r\n        default: \r\n            stateCopy = {...state};\r\n    }\r\n\r\n\r\n    return stateCopy;\r\n}\r\n\r\n/** --------Action creators-------- */\r\nexport const setUserProfileActionCreator = (userProfile) => {\r\n    let action = {\r\n        type: SET_USER_PROFILE,\r\n        userProfile: userProfile,\r\n    }\r\n    return action;\r\n}\r\nexport const unsetUserProfileActionCreator = () => {\r\n    let action = {\r\n        type: UNSET_USER_PROFILE,\r\n    }\r\n    return action;\r\n}\r\nexport const setUserStatusActionCreator = (status) => {\r\n    let action = {\r\n        type: SET_USER_STATUS,\r\n        status: status,\r\n    }\r\n    return action;\r\n}\r\nconst setInitActionCreator = () => {\r\n    let action = {\r\n        type: SET_INIT,\r\n    }\r\n    return action;\r\n}\r\n/** ------------------------------ */\r\n\r\n/** -------------Thunk Creators------------- */\r\nconst getUserProfileThunkCreator = (userId) => async (dispatch) => {\r\n    let response =  await profileAPI.setUserInfoById(userId);\r\n    dispatch(setUserProfileActionCreator(response));\r\n} \r\n\r\nconst getUserStatusThunkCreator = (userId) => async (dispatch) => {\r\n    let response =  await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatusActionCreator(response));\r\n} \r\n\r\nexport const updateUserStatusThunkCreator = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.resultCode === 0) {\r\n        dispatch(setUserStatusActionCreator(status));\r\n    }\r\n} \r\n/** ---------------------------------------- */\r\n\r\n/** --------------Init-------------- */\r\nexport const initProfile = (userId) => (dispatch) => {\r\n    let profile =  dispatch(getUserProfileThunkCreator(userId));\r\n    let status =  dispatch(getUserStatusThunkCreator(userId));\r\n\r\n    Promise.all([profile, status]).then( () => {\r\n        dispatch(setInitActionCreator());\r\n    })\r\n}\r\n/** -------------------------------- */\r\n\r\nexport default userProfileReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__17mBi\",\"title\":\"Header_title__2egTu\",\"headerLogoBlock\":\"Header_headerLogoBlock__34PFJ\",\"logoutButton\":\"Header_logoutButton__2O5Cs\",\"loginButton\":\"Header_loginButton__1Tup7\"};","import React from 'react';\r\nimport style from './Preloader.module.css'\r\nimport loader from '../../../img/loader.svg';\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div className={style.preloader}>\r\n            <img\r\n                src={loader}\r\n                alt=\"Loading...\"\r\n                className={style.preloaderImage}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Preloader;\r\n","import { stopSubmit } from 'redux-form';\r\nimport {authAPI} from '../api/api';\r\n\r\nconst SET_USER_DATA = 'SET-USER-DATA';\r\nconst UNSET_USER_DATA = 'UNSET-USER-DATA';\r\nconst TOGLE_IS_AUTH = 'TOGLE-IS-AUTH';\r\n\r\nlet initialState = {\r\n    userData: {\r\n        id: null,\r\n        email: null,\r\n        login: null,\r\n    },\r\n    isAuth: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            stateCopy = {\r\n                ...state,\r\n                userData: {...action.payload},\r\n            }\r\n            break;\r\n        }\r\n        case UNSET_USER_DATA: {\r\n            stateCopy = {\r\n                ...state,\r\n                userData: {...action.payload},\r\n            }\r\n            break;\r\n        }\r\n        case TOGLE_IS_AUTH: {\r\n            stateCopy = {\r\n                ...state,\r\n                isAuth: action.isAuth,\r\n            }\r\n            break;\r\n        }\r\n        default: \r\n            stateCopy = {...state}\r\n    }\r\n\r\n    return stateCopy;\r\n}\r\n\r\nexport const setUserActionCreator = (payload) => {\r\n    let action = {\r\n        type: SET_USER_DATA,\r\n        payload: payload,\r\n    }\r\n    return action;\r\n}\r\nexport const unsetUserActionCreator = (payload) => {\r\n    let action = {\r\n        type: UNSET_USER_DATA,\r\n        payload: payload,\r\n    }\r\n    return action;\r\n}\r\n\r\nexport const setIsAuthActionCreator = (isAuth) => {\r\n    let action = {\r\n        type: TOGLE_IS_AUTH,\r\n        isAuth: isAuth,\r\n    }\r\n    return action;\r\n}\r\n\r\n\r\n\r\nexport const checkAuthThunkCreator = () => (dispatch) => {\r\n    return authAPI.me().then( response => {\r\n        if (response.resultCode === 0) {\r\n            dispatch(setUserActionCreator(response.data));\r\n            dispatch(setIsAuthActionCreator(true));\r\n        }\r\n    });\r\n}\r\n\r\nexport const unsetUserThunkCreator = () => {\r\n    return (dispatch) => {\r\n        authAPI.logout().then( response => {\r\n            if (response.resultCode === 0) {\r\n                let payload = {\r\n                    id: null,\r\n                    email: null,\r\n                    login: null,\r\n                }\r\n                dispatch(unsetUserActionCreator(payload));\r\n                dispatch(setIsAuthActionCreator(false));\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport const setIsAuthThunkCreator = (formData) => {\r\n    return (dispatch) => {\r\n        authAPI.login(formData).then( response => {\r\n            if (response.resultCode === 0) {\r\n                let payload = {\r\n                    id: response.data.userId,\r\n                    email: null,\r\n                    login: null,\r\n                }\r\n                dispatch(unsetUserActionCreator(payload));\r\n                dispatch(setIsAuthActionCreator(true));\r\n            }\r\n            else {\r\n                let error_message = response.messages.length > 0 ? response.messages[0] : 'Email or password is incorrect';\r\n                let action = stopSubmit('login', {_error: error_message});\r\n                dispatch(action);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport default authReducer;","export const getId = (state) => {\r\n    return state.authReducer.userData.id;\r\n}\r\nexport const getProfile = (state) => {\r\n    return state.userProfileReducer.userProfile;\r\n}\r\nexport const getStatus = (state) => {\r\n    return state.userProfileReducer.userStatus;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statusBlock\":\"MyProfileStatus_statusBlock__wgbWg\",\"statusText\":\"MyProfileStatus_statusText__v4j7d\",\"userInfoTitle\":\"MyProfileStatus_userInfoTitle__6edsK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3zQMh\",\"userName\":\"User_userName__1w6dL\",\"addUser\":\"User_addUser__sZHNF\",\"userDesc\":\"User_userDesc__3u-6N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"MyProfile_user__M8ATN\",\"userImageBlock\":\"MyProfile_userImageBlock__2VRAV\",\"userImage\":\"MyProfile_userImage__36zO5\",\"userInfoBlock\":\"MyProfile_userInfoBlock__12OIo\",\"userInfoBlockItem\":\"MyProfile_userInfoBlockItem__c4dbA\",\"userFullnameBlock\":\"MyProfile_userFullnameBlock__i0z10\",\"userFullname\":\"MyProfile_userFullname__3MUOQ\",\"userFullnameTitle\":\"MyProfile_userFullnameTitle__3-95p\",\"userInfoTitle\":\"MyProfile_userInfoTitle__1-8Nb\",\"userAboutBlock\":\"MyProfile_userAboutBlock__1mnQ-\",\"userAbout\":\"MyProfile_userAbout__6rG1c\",\"userContactsUnavailable\":\"MyProfile_userContactsUnavailable__3OtSM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationListItemCurrent\":\"Preloader_paginationListItemCurrent__2MvIc\",\"preloader\":\"Preloader_preloader__3x4U7\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '243c72f1-6008-4b8d-8dff-b9a03a32b432',\r\n    },\r\n})\r\n\r\nconst usersAPI = {\r\n    getUsers(count = 10, page = 1) {\r\n        return instance.get(`users?count=${count}&page=${page}`).then( response => response.data);\r\n    },\r\n    followUserById(userId)  {\r\n        return instance.post(`follow/${userId}`).then( response => response.data);\r\n    },\r\n    unfollowUserById(userId) {\r\n        return instance.delete(`follow/${userId}`).then( response => response.data);\r\n    },\r\n    setUserInfoById(userId) {\r\n        console.warn('Method deprecated! Use profileAPI method to set user info.');\r\n        return profileAPI.setUserInfoById(userId);\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    setUserInfoById(userId) {\r\n        return instance.get(`profile/${userId}`).then( response => response.data);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`).then( response => response.data);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status }).then( response => response.data);\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get('auth/me').then( response => response.data);\r\n    },\r\n    login(formData) {\r\n        return instance.post('auth/login', {\r\n            email: formData.email,\r\n            password: formData.password,\r\n            rememberMe: formData.rememberMe,\r\n            captcha: false,\r\n        }).then( response => response.data);\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login').then( response => response.data);\r\n    },\r\n}\r\n\r\nexport default usersAPI;","module.exports = __webpack_public_path__ + \"static/media/undefinedUser.d961d73a.png\";","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to=\"/login\" />;\r\n\r\n            return <Component {...this.props} isAuth={this.props.isAuth} userData={this.props.userData}/>;\r\n        }\r\n    };\r\n\r\n    let mapStateToProps = (state) => {\r\n        return {\r\n            isAuth: state.authReducer.isAuth,\r\n            userData: state.authReducer.userData,\r\n        }\r\n    };\r\n    let actionCreators = {};\r\n\r\n    let ConnectedRedirectComponent = connect(\r\n        mapStateToProps,\r\n        actionCreators\r\n    )(RedirectComponent);\r\n\r\n    return ConnectedRedirectComponent;\r\n};\r\n\r\nexport default withAuthRedirect;\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProp) => {\r\n    return items.map( item => {\r\n        if (item[objPropName] === parseInt(itemId)) {\r\n            let itemCopy = {\r\n                ...item,\r\n                ...newObjProp\r\n            };\r\n            return itemCopy;\r\n        }\r\n        return item;\r\n    })\r\n}","import usersAPI from '../api/api'\r\nimport { updateObjectInArray } from '../utils/helpers/helperObject';\r\n\r\nconst FOLLOW_USER = \"FOLLOW-USER\";\r\nconst UNFOLLOW_USER = \"UNFOLLOW-USER\";\r\nconst SET_USERS = \"SET-USERS\";\r\nconst SET_USERS_COUNT = \"SET-USERS-COUNT\";\r\nconst SET_PAGE_SIZE = \"SET-PAGE-SIZE\";\r\nconst SET_PAGES_COUNT = \"SET-PAGES-COUNT\";\r\nconst SET_CURRENT_PAGE = \"CHANGE-CURRENT-PAGE\";\r\nconst IS_FETCHING = \"IS-FETCHING\";\r\nconst FOLLOWING_IN_PROGRESS = \"FOLLOWING-IN-PROGRESS\";\r\n\r\nlet initialState = {\r\n    usersData: [],\r\n    pageSize: 10,\r\n    totalUsers: 0,\r\n    pagesCount: 0,\r\n    pages: [1],\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case SET_USERS: {\r\n\r\n            if (action.showMore) {\r\n                stateCopy = {\r\n                    ...state,\r\n                    usersData: [ ...state.usersData, ...action.users],\r\n                };\r\n            }\r\n            else {\r\n                stateCopy = {\r\n                    ...state,\r\n                    usersData: [...action.users],\r\n                };\r\n            }\r\n            break;\r\n        }\r\n        case SET_USERS_COUNT: {\r\n            stateCopy = {\r\n                ...state,\r\n                totalUsers: action.count\r\n            };\r\n\r\n            break;\r\n        }\r\n        case SET_PAGE_SIZE: {\r\n            stateCopy = {\r\n                ...state,\r\n                pageSize: action.size\r\n            };\r\n\r\n            break;\r\n        }\r\n        case SET_PAGES_COUNT: {\r\n\r\n            stateCopy = {\r\n                ...state,\r\n                pagesCount: action.count,\r\n                pages: [],\r\n            };\r\n\r\n            for (let i = 1; i <= action.count; i++) {\r\n                stateCopy.pages.push(i);\r\n            }\r\n\r\n            break;\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            stateCopy = {\r\n                ...state,\r\n                currentPage: action.pageNum\r\n            };\r\n\r\n            break;\r\n        }\r\n        case IS_FETCHING: {\r\n            stateCopy = {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            };\r\n\r\n            break;\r\n        }\r\n        case FOLLOW_USER: {\r\n            stateCopy = {\r\n                ...state,\r\n                usersData: updateObjectInArray(state.usersData, action.user_id, 'id', {followed: true}),\r\n            };\r\n\r\n            break;\r\n        }\r\n        case UNFOLLOW_USER: {\r\n            stateCopy = {\r\n                ...state,\r\n                usersData: updateObjectInArray(state.usersData, action.user_id, 'id', {followed: false}),\r\n            };\r\n\r\n            break;\r\n        }\r\n        case FOLLOWING_IN_PROGRESS: {\r\n            stateCopy = {\r\n                ...state,\r\n                followingInProgress: action.progress \r\n                ? [...state.followingInProgress, action.user_id]\r\n                : state.followingInProgress.filter( id => id !== action.user_id)\r\n            };\r\n\r\n            break;\r\n        }\r\n        default: {\r\n            stateCopy = { ...state };\r\n            break;\r\n        }\r\n    }\r\n\r\n    return stateCopy;\r\n};\r\n\r\n/** ---------------Action creators--------------- */\r\nexport const followActionCreator = (user_id) => {\r\n    let action = {\r\n        type: FOLLOW_USER,\r\n        user_id: user_id,\r\n    };\r\n    return action;\r\n};\r\nexport const unfollowActionCreator = (user_id) => {\r\n    let action = {\r\n        type: UNFOLLOW_USER,\r\n        user_id: user_id,\r\n    };\r\n    return action;\r\n};\r\nexport const followingProgressActionCreator = (user_id, progress) => {\r\n    let action = {\r\n        type: FOLLOWING_IN_PROGRESS,\r\n        progress: progress,\r\n        user_id: user_id,\r\n    };\r\n    return action;\r\n};\r\nexport const setUsersActionCreator = (users, showMore = false) => {\r\n    let action = {\r\n        type: SET_USERS,\r\n        users: users,\r\n        showMore: showMore,\r\n    };\r\n    return action;\r\n};\r\nexport const setTotalUsersActionCreator = (count) => {\r\n    let action = {\r\n        type: SET_USERS_COUNT,\r\n        count: count,\r\n    };\r\n    return action;\r\n};\r\nexport const setPageSizeActionCreator = (size) => {\r\n    let action = {\r\n        type: SET_PAGE_SIZE,\r\n        size: size,\r\n    };\r\n    return action;\r\n};\r\nexport const setPagesCountActionCreator = (count) => {\r\n    let action = {\r\n        type: SET_PAGES_COUNT,\r\n        count: count,\r\n    };\r\n    return action;\r\n};\r\nexport const setCurrentPageActionCreator = (pageNum) => {\r\n    let action = {\r\n        type: SET_CURRENT_PAGE,\r\n        pageNum: pageNum,\r\n    };\r\n    return action;\r\n};\r\nexport const setIsFetchingActionCreator = (isFetching) => {\r\n    let action = {\r\n        type: IS_FETCHING,\r\n        isFetching: isFetching,\r\n    };\r\n    return action;\r\n};\r\n/** --------------------------------------------- */\r\n\r\n/** ---------------Thunk Creators---------------- */\r\nexport const getUsersThunkCreator = (count, page) => {\r\n    return (dispatch) => {\r\n        dispatch(setIsFetchingActionCreator(true));\r\n    \r\n        usersAPI.getUsers(count, page).then((response) => {\r\n            dispatch(setUsersActionCreator(response.items));\r\n            dispatch(setPageSizeActionCreator(count));\r\n            dispatch(setPagesCountActionCreator(Math.ceil(response.totalCount / count)));\r\n            dispatch(setCurrentPageActionCreator(page));\r\n            dispatch(setIsFetchingActionCreator(false));\r\n        });\r\n    }\r\n} \r\nexport const toggleFollowThunkCreator = (user_id, isFollow) => {\r\n    if (isFollow) {\r\n        return async (dispatch) => {\r\n            toggleFollowUnfollow(dispatch, user_id, usersAPI.followUserById.bind(usersAPI), followActionCreator);\r\n        }\r\n    }\r\n    else {\r\n        return async (dispatch) => {\r\n            toggleFollowUnfollow(dispatch, user_id, usersAPI.unfollowUserById.bind(usersAPI), unfollowActionCreator);\r\n        } \r\n    }\r\n} \r\nexport const showMoreUsersThunkCreator = (count, currentPage) => (dispatch) => {\r\n    return usersAPI.getUsers(count, currentPage).then( response => {\r\n        debugger\r\n        dispatch(setUsersActionCreator(response.items, true));\r\n        dispatch(setPageSizeActionCreator(count));\r\n        dispatch(setPagesCountActionCreator(Math.ceil(response.totalCount / count)));\r\n        dispatch(setCurrentPageActionCreator(currentPage));\r\n        dispatch(setIsFetchingActionCreator(false));\r\n    })\r\n}\r\n/** --------------------------------------------- */\r\n\r\n/** Other helpfull function */\r\nconst toggleFollowUnfollow = async (dispatch, user_id, apiMethod, actionCreator) => {\r\n    dispatch(followingProgressActionCreator(user_id, true));\r\n\r\n    let response = await apiMethod(user_id);\r\n\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(user_id));\r\n        dispatch(followingProgressActionCreator(user_id, false));\r\n    }\r\n}\r\n/** ----------------------- */\r\n\r\nexport default usersReducer;","const ADD_POST = 'ADD-POST';\r\nconst DELETE_POST = 'DELETE-POST';\r\n\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        {\r\n            id: 1,\r\n            postText: \"Post 1 Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat ex temporibus quia autem ab perferendis odio sunt magni, amet accusamus modi recusandae reiciendis, quae molestiae officiis iste nam aspernatur eos\",\r\n            postPhoto: \"https://themified.com/friend-finder/images/post-images/1.jpg\",\r\n            authorAvatar: \"https://themified.com/friend-finder/images/users/user-5.jpg\",\r\n            authorName: \"Alexis Clark\",\r\n        },\r\n        {\r\n            id: 2,\r\n            postText: \"Post 2 Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat ex temporibus quia autem ab perferendis odio sunt magni, amet accusamus modi recusandae reiciendis, quae molestiae officiis iste nam aspernatur eos\",\r\n            postPhoto: \"https://themified.com/friend-finder/images/post-images/2.jpg\",\r\n            authorAvatar: \"https://themified.com/friend-finder/images/users/user-3.jpg\",\r\n            authorName: \"Linda Lohan\",\r\n        },\r\n        {\r\n            id: 3,\r\n            postText: \"Post 3 Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat ex temporibus quia autem ab perferendis odio sunt magni, amet accusamus modi recusandae reiciendis, quae molestiae officiis iste nam aspernatur eos\",\r\n            postPhoto: \"https://themified.com/friend-finder/images/post-images/11.jpg\",\r\n            authorAvatar: \"https://themified.com/friend-finder/images/users/user-4.jpg\",\r\n            authorName: \"John Doe\",\r\n        },\r\n    ],\r\n    newPostText: 'Write what you wish',\r\n}\r\n\r\nconst newsReducer = (state = initialState, action) => {\r\n    \r\n    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n\r\n            let newPost = {\r\n                id: 4,\r\n                postText: action.newPostText,\r\n                postPhoto: \"https://themified.com/friend-finder/images/post-images/11.jpg\",\r\n                authorAvatar: \"https://themified.com/friend-finder/images/users/user-4.jpg\",\r\n                authorName: \"My name\",\r\n            };\r\n\r\n            stateCopy = {\r\n                ...state,\r\n                newPostText: '',\r\n                postsData: [...state.postsData, newPost],\r\n            };\r\n\r\n            break;\r\n\r\n        }\r\n        case DELETE_POST: {\r\n            stateCopy = {\r\n                ...state,\r\n                postsData: state.postsData.filter( p => p.id !== action.post_id),\r\n            };\r\n\r\n            break;\r\n\r\n        }\r\n        default: {\r\n            stateCopy = {...state}\r\n            break;\r\n        }\r\n    }\r\n\r\n    return stateCopy;\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => {\r\n    let action = {\r\n        type: ADD_POST,\r\n        newPostText: newPostText,\r\n    }\r\n    return action;\r\n}\r\n\r\nexport const deletePostActionCreator = (post_id) => {\r\n    let action = {\r\n        type: DELETE_POST,\r\n        post_id: post_id,\r\n    }\r\n    return action;\r\n}\r\n\r\nexport default newsReducer;","const ADD_NEW_MESSAGE = 'ADD-NEW-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        {\r\n            id: 2,\r\n            name: 'Linda Lohan',\r\n            avatar: 'https://themified.com/friend-finder/images/users/user-2.jpg',\r\n            lastMessage: 'Hi there, how are you',\r\n        },\r\n        {\r\n            id: 10,\r\n            name: 'Julia Cox',\r\n            avatar: 'https://themified.com/friend-finder/images/users/user-10.jpg',\r\n            lastMessage: 'see you soon',\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Sophia Lee',\r\n            avatar: 'https://themified.com/friend-finder/images/users/user-3.jpg',\r\n            lastMessage: 'Hi there, how are you',\r\n        }\r\n    ],\r\n    activeDialogMessagesData: [\r\n        {\r\n            author: \"other\",\r\n            avatar: \"https://themified.com/friend-finder/images/users/user-2.jpg\",\r\n            message: \"Hi honey, how are you doing???? Long time no see. Where have you been?\",\r\n        },\r\n        {\r\n            author: \"me\",\r\n            avatar: \"https://invisionbyte.ru/test/uploads/monthly_2018_01/Wmug__uf.thumb.jpg.eca0349ccc67dd24370df4c7e452e924.jpg\",\r\n            message: \"I'm fine, thanks! What about you?\",\r\n        },\r\n    ],\r\n}\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n\r\n    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case ADD_NEW_MESSAGE: {\r\n\r\n            let newMessage = {\r\n                author: \"me\",\r\n                avatar: \"https://invisionbyte.ru/test/uploads/monthly_2018_01/Wmug__uf.thumb.jpg.eca0349ccc67dd24370df4c7e452e924.jpg\",\r\n                message: action.message,\r\n            };\r\n\r\n            stateCopy = { \r\n                ...state,\r\n                newMessageText: '',\r\n                activeDialogMessagesData: [...state.activeDialogMessagesData, newMessage],\r\n            };\r\n\r\n            break;\r\n        }\r\n        default: {\r\n            stateCopy = {...state}\r\n            break;\r\n        }\r\n    }\r\n\r\n    return stateCopy;\r\n}\r\n\r\nexport const addNewMessageCreator = (message) => {\r\n    let action = {\r\n        type: ADD_NEW_MESSAGE,\r\n        message: message,\r\n    }\r\n    return action;\r\n}\r\n\r\nexport default messagesReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3A-Vq\",\"title\":\"Nav_title__3ZPaR\",\"item\":\"Nav_item__1h5o-\",\"active\":\"Nav_active__PnmBd\"};","module.exports = __webpack_public_path__ + \"static/media/loader.d8e9df89.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"follow\":\"Follow_follow__3wl08\"};"],"sourceRoot":""}