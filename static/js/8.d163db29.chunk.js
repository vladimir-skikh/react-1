(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[8],{305:function(e,t,n){e.exports={users:"Users_users__3dPZq",showMoreButton:"Users_showMoreButton__1sct3"}},306:function(e,t,n){e.exports={user:"User_user__1tioU",userImageBlock:"User_userImageBlock__IRS6b",userAvatar:"User_userAvatar__11VPE",userInfoBlock:"User_userInfoBlock__3W6Wz",userInfo:"User_userInfo__19k0B",userName:"User_userName__3NXZJ",status:"User_status__1uf80",followButtonBlock:"User_followButtonBlock__2H_ll",followButton:"User_followButton__2h1Fh",hidden:"User_hidden__2K4dx"}},307:function(e,t,n){e.exports={pagination:"Pagination_pagination__1DjSF",paginationList:"Pagination_paginationList__2W0Hv",paginationListItem:"Pagination_paginationListItem__1y3sQ",paginationListItemCurrent:"Pagination_paginationListItemCurrent__1titw",hidden:"Pagination_hidden__1CfMA"}},316:function(e,t,n){"use strict";n.r(t);var r=n(17),a=n(18),s=n(20),o=n(19),i=n(0),u=n.n(i),l=n(12),c=n(13),p=n(70),f=n(305),g=n.n(f),m=n(11),h=n(306),d=n.n(h),w=n(52),v=n.n(w),_=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).createElement=u.a.createRef(),e.onFollowClick=function(){var t=e.createElement.current.value;e.props.followUser(t)},e.onUnfollowClick=function(){var t=e.createElement.current.value;e.props.unfollowUser(t)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:d.a.user},u.a.createElement("div",{className:d.a.userImageBlock},u.a.createElement(m.b,{to:"/user/"+this.props.id,userId:this.props.id},this.props.avatar?u.a.createElement("img",{src:this.props.avatar,alt:"",className:d.a.userAvatar}):u.a.createElement("img",{src:v.a,alt:"",className:d.a.userAvatar}))),u.a.createElement("div",{className:d.a.userInfoBlock},u.a.createElement("div",{className:d.a.userInfo},u.a.createElement(m.b,{to:"/user/"+this.props.id,userId:this.props.id,className:d.a.userName},u.a.createElement("span",{className:d.a.userName},this.props.userName)),this.props.avatar?u.a.createElement("span",{className:d.a.status},this.props.status):u.a.createElement("span",{className:d.a.status},"No status")),u.a.createElement("div",{className:d.a.followButtonBlock},this.props.following?u.a.createElement("button",{value:this.props.id,onClick:this.onUnfollowClick,ref:this.createElement,className:d.a.followButton,disabled:this.props.followingInProgress.some((function(t){return parseInt(t)===parseInt(e.props.id)}))},"Unfollow"):u.a.createElement("button",{value:this.props.id,onClick:this.onFollowClick,ref:this.createElement,className:d.a.followButton,disabled:this.props.followingInProgress.some((function(t){return parseInt(t)===parseInt(e.props.id)}))},"Follow"))))}}]),n}(u.a.Component),I=n(75),E=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).follow=function(t){e.props.toggleFollow(t,!0)},e.unfollow=function(t){e.props.toggleFollow(t,!1)},e}return Object(a.a)(n,[{key:"render",value:function(){return u.a.createElement(_,{id:this.props.id,userName:this.props.userName,following:this.props.following,avatar:this.props.avatar,status:this.props.status,followUser:this.follow,unfollowUser:this.unfollow,followingInProgress:this.props.followingInProgress})}}]),n}(u.a.Component),U={toggleFollow:I.i},N=Object(l.b)((function(e,t){return{id:t.id,userName:t.userName,following:t.following,avatar:t.avatar,status:t.status,followingInProgress:t.followingInProgress}}),U)(E),P=n(54),k=n(56),b=n.n(k),C=n(307),y=n.n(C),B=function(e){var t=e.updateData,n=e.count,r=e.currentPage,a=e.pages,s=0,o=11;r>6&&(s=r-6,o=r+5);var i=function(e){t(n,e)};return u.a.createElement("div",{className:y.a.pagination},u.a.createElement("ul",{className:y.a.paginationList},u.a.createElement("li",{className:b()(y.a.paginationListItem,Object(P.a)({},y.a.hidden,1===r)),onClick:function(){i(1)}},"\u22d8"),a.slice(s,o).map((function(e){return u.a.createElement("li",{className:y.a.paginationListItem+" "+(r===e?y.a.paginationListItemCurrent:""),onClick:function(){i(e)}},e)})),u.a.createElement("li",{className:y.a.paginationListItem+" "+(r===a.length?y.a.hidden:""),onClick:function(){i(a.length)}},"\u22d9")))},j=function(e){return u.a.createElement("div",{className:g.a.users},e.usersData.map((function(t){return u.a.createElement(N,{id:t.id,userName:t.name,following:t.followed,avatar:t.photos.large,status:t.status,followingInProgress:e.followingInProgress})})),u.a.createElement(B,{updateData:e.updateUsers,count:e.count,currentPage:e.currentPage,pages:e.pages}),e.currentPage!==e.pages.length?u.a.createElement("button",{className:g.a.showMoreButton,onClick:e.onShowMoreClick},"Show more"):"")};function O(e,t){return e===t}function S(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}function F(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var A=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=0,o=r.pop(),i=F(r),u=e.apply(void 0,[function(){return s++,o.apply(null,arguments)}].concat(n)),l=e((function(){for(var e=[],t=i.length,n=0;n<t;n++)e.push(i[n].apply(null,arguments));return u.apply(null,e)}));return l.resultFunc=o,l.dependencies=i,l.recomputations=function(){return s},l.resetRecomputations=function(){return s=0},l}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O,n=null,r=null;return function(){return S(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));var L=A((function(e){return e.usersReducer.usersData}),(function(e){return e.filter((function(e){return!0}))})),M=function(e){return e.usersReducer.totalUsers},R=function(e){return e.usersReducer.pageSize},D=function(e){return e.usersReducer.pagesCount},z=function(e){return e.usersReducer.pages},x=function(e){return e.usersReducer.currentPage},W=function(e){return e.usersReducer.isFetching},J=function(e){return e.usersReducer.followingInProgress},H=n(34),Z=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).onShowMoreClick=function(){var e=a.props.pageSize,t=a.props.currentPage+1;a.props.showMore(e,t)},a.updateUsers=function(e,t){a.props.getUsers(e,t)},a.count=a.props.pageSize,a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.pageSize,t=this.props.currentPage;0===this.props.usersData.length&&this.updateUsers(e,t)}},{key:"componentWillUnmount",value:function(){this.props.unsetUsers()}},{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,this.props.isFetching?u.a.createElement(H.a,null):u.a.createElement(j,{updateUsers:this.updateUsers,onShowMoreClick:this.onShowMoreClick,count:this.count,pageSize:this.props.pageSize,currentPage:this.props.currentPage,usersData:this.props.usersData,pages:this.props.pages,followingInProgress:this.props.followingInProgress}))}}]),n}(u.a.Component),q={showMore:I.h,setTotalUsersCount:I.g,setPageSize:I.e,setPagesCount:I.f,setCurrentPage:I.c,setIsFetching:I.d,getUsers:I.b,unsetUsers:I.j};t.default=Object(c.compose)(Object(l.b)((function(e){return{usersData:L(e),totalUsers:M(e),pageSize:R(e),pagesCount:D(e),currentPage:x(e),pages:z(e),isFetching:W(e),followingInProgress:J(e)}}),q),p.a)(Z)}}]);
//# sourceMappingURL=8.d163db29.chunk.js.map