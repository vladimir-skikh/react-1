{"version":3,"sources":["components/Nav/Nav.module.css","components/Follow/Follow.module.css","serviceWorker.js","redux/followReducer.js","redux/appReducer.ts","redux/reduxStore.ts","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Nav/Nav.jsx","components/MyProfile/MyProfileStatus/MyProfileStatusWithHooks.jsx","components/MyProfile/MyProfileStatus/MyProfileStatusContainer.jsx","components/common/Contacts/Contacts.jsx","components/MyProfile/MyProfile.jsx","components/MyProfile/MyProfileContainer.jsx","redux/selectors/followSelector.js","components/Follow/User/User.jsx","components/Follow/Follow.jsx","components/Follow/FollowContainer.jsx","components/hoc/withSuspense.jsx","App.js","index.js","redux/userProfileReducer.ts","components/Header/Header.module.css","components/common/Preloader/Preloader.jsx","redux/authReducer.ts","redux/selectors/profileSelector.js","components/MyProfile/MyProfileStatus/MyProfileStatus.module.css","components/common/Contacts/Contacts.module.css","components/Follow/User/User.module.css","img/undefinedUser.png","components/MyProfile/MyProfile.module.css","components/common/Preloader/Preloader.module.css","api/api.js","components/hoc/withAuthRedirect.jsx","utils/helpers/helperObject.js","redux/usersPageReducer.ts","redux/newsPageReducer.ts","redux/messagesPageReducer.js","img/logo.png","img/loader.svg"],"names":["module","exports","Boolean","window","location","hostname","match","SET_USERS","initialState","followData","followReducer","stateCopy","state","action","type","users","SET_INITIALIZED","initialized","appReducer","rootReducer","combineReducers","newsReducer","messagesReducer","usersReducer","userProfileReducer","authReducer","form","formReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","Header","props","onLogoutClick","onLogout","className","style","header","headerLogoBlock","src","logo","alt","title","loginBlock","isAuth","logoutButton","onClick","to","loginButton","HeaderContainer","unsetUser","this","userId","React","Component","actionCreators","unsetUserThunkCreator","connect","userData","Nav","nav","activeClassName","active","item","MyProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","activateStatusEditMode","statusBlock","userInfoTitle","statusTitle","autoFocus","value","onBlur","updateStatus","onChange","e","currentTarget","statusText","onDoubleClick","onTouchStart","undefined","updateUserStatusThunkCreator","MyProfileStatusContainer","compose","getStatus","Contatcs","contacts","userContactsList","Object","keys","map","key","userContactsListItem","href","userContactslink","MyProfile","templateAbout","onAvatarChange","target","files","length","uploadPhoto","user","userImageBlock","profile","photos","large","userImage","undefinedUser","userAvatarInputBlock","htmlFor","userAvatarIcon","o","nChange","userAvatarInput","id","name","userInfoBlock","classnames","userInfoBlockItem","userFullnameBlock","userFullnameTitle","userFullname","fullName","userContactsBlock","Contacts","userContactsUnavailable","userAboutBlock","userAbout","aboutMe","MyProfileAPIContainer","file","initProfile","unsetUserProfile","init","Preloader","unsetUserProfileActionCreator","uploadPhotoThunkCreator","MyProfileContainer","withAuthRedirect","getId","getProfile","getFollowComponentUsers","User","avatar","userDesc","userName","addUser","Follow","follow","small","FollowAPIContainer","getUsers","count","page","dispatch","a","usersAPI","response","error","items","FollowContainer","withSuspense","Suspense","fallback","NewsContainer","lazy","UsersContainer","MessagesContainer","UserProfileContainer","LoginContainer","Settings","App","catchAllUnhandledErrors","promiseRejectionEvent","alert","reason","initializeApp","addEventListener","removeEventListener","isInitialized","path","render","exact","from","checkAuthPromise","checkAuthThunkCreator","Promise","all","then","AppContainer","withRouter","MainApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","message","SET_USER_PROFILE","UNSET_USER_PROFILE","SET_USER_STATUS","SET_INIT","SET_PHOTOS","userProfile","userStatus","setUserStatusActionCreator","getUserProfileThunkCreator","profileAPI","setUserInfoById","resultCode","reject","messages","data","saveProfileDataThunkCreator","formData","getState","saveProfileData","error_message","index","indexOf","contact_key","substring","toLowerCase","stopSubmit","_error","getUserStatusThunkCreator","preloader","loader","preloaderImage","SET_USER_DATA","UNSET_USER_DATA","TOGLE_IS_AUTH","SET_CAPTCHA_URL","email","login","captchaUrl","setUserActionCreator","payload","unsetUserActionCreator","setIsAuthActionCreator","authAPI","me","logout","setIsAuthThunkCreator","securityAPI","getCaptchaUrl","url","instance","axios","create","withCredentials","baseURL","headers","get","followUserById","post","unfollowUserById","delete","warn","put","image","FormData","append","password","rememberMe","captcha","RedirectComponent","updateObjectInArray","itemId","objPropName","newObjProp","parseInt","FOLLOW_USER","UNFOLLOW_USER","UNSET_USERS","SET_USERS_COUNT","SET_PAGE_SIZE","SET_PAGES_COUNT","SET_CURRENT_PAGE","IS_FETCHING","FOLLOWING_IN_PROGRESS","usersData","pageSize","totalUsers","pagesCount","pages","currentPage","isFetching","followingInProgress","followActionCreator","user_id","unfollowActionCreator","followingProgressActionCreator","progress","setUsersActionCreator","showMore","setTotalUsersActionCreator","setPageSizeActionCreator","size","setPagesCountActionCreator","setCurrentPageActionCreator","pageNum","setIsFetchingActionCreator","unsetUsersActionCreator","getUsersThunkCreator","Math","ceil","totalCount","toggleFollowThunkCreator","isFollow","toggleFollowUnfollow","bind","showMoreUsersThunkCreator","apiMethod","actionCreator","i","push","followed","filter","ADD_POST","DELETE_POST","postsData","postText","postPhoto","authorAvatar","authorName","newPostText","addPostActionCreator","newPost","p","post_id","ADD_NEW_MESSAGE","dialogsData","lastMessage","activeDialogMessagesData","author","addNewMessageCreator","newMessage","newMessageText"],"mappings":"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","file":"static/js/main.62acc425.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3A-Vq\",\"title\":\"Nav_title__3ZPaR\",\"item\":\"Nav_item__1h5o-\",\"active\":\"Nav_active__PnmBd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"follow\":\"Follow_follow__3wl08\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import usersAPI from '../api/api';\r\n\r\nconst SET_USERS = 'messege-me/followReducer/SET-USERS';\r\n\r\n\r\nlet initialState = {\r\n    followData: []\r\n}\r\nconst followReducer = (state = initialState, action) => {\r\n\r\n    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case SET_USERS: {\r\n            stateCopy = {\r\n                ...state,\r\n                followData: [...action.users]\r\n            }\r\n            break;\r\n        }\r\n        default:\r\n            stateCopy = {...state}\r\n            break;\r\n    }\r\n\r\n    return stateCopy;\r\n}\r\n/** ------Action creators----- */\r\nconst setUsersActionCreator = (users) => {\r\n    let action = {\r\n        type: SET_USERS,\r\n        users: users\r\n    }\r\n    return action;\r\n}\r\n/** -------------------------- */\r\n\r\n/** ------Thunk creators creators-----*/\r\nexport const getUsersThunkCreator = (count, page) => async (dispatch) => {\r\n    let response = await usersAPI.getUsers(count, page);\r\n\r\n    if (response.error === null) {\r\n        dispatch(setUsersActionCreator(response.items));\r\n    }\r\n} \r\n/** -------------------------- */\r\n\r\n\r\nexport default followReducer;","import { checkAuthThunkCreator } from \"./authReducer\";\r\nimport { InitialAppReducerStateType } from \"./types/types\";\r\n\r\nconst SET_INITIALIZED = 'messege-me/appReducer/SET-INITIALIZED';\r\n\r\nlet initialState: InitialAppReducerStateType = {\r\n    initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action: any): InitialAppReducerStateType => {\r\n    let stateCopy: InitialAppReducerStateType;\r\n\r\n    switch (action.type) {\r\n        case SET_INITIALIZED: {\r\n            stateCopy = {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n            break;\r\n        }\r\n        default: \r\n            stateCopy = {...state}\r\n    }\r\n\r\n    return stateCopy;\r\n}\r\n\r\n/** ------Action Types--------- */\r\ntype setInitializedActionType = {\r\n    type: typeof SET_INITIALIZED\r\n}\r\n/** --------------------------- */\r\n\r\n/** --------Action creators---------- */\r\nexport const setInitializedCreator = (): setInitializedActionType => {\r\n    let action: setInitializedActionType = {\r\n        type: SET_INITIALIZED,\r\n    }\r\n    return action;\r\n}\r\n/** --------------------------------- */\r\n\r\nexport const initializeApp = () => (dispatch: any) => {\r\n    let checkAuthPromise =  dispatch(checkAuthThunkCreator());\r\n\r\n    Promise.all([checkAuthPromise]).then( () => {\r\n        dispatch(setInitializedCreator());\r\n    })\r\n}\r\n\r\nexport default appReducer;","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport newsReducer from \"./newsPageReducer\";\r\nimport messagesReducer from \"./messagesPageReducer\";\r\nimport followReducer from \"./followReducer\";\r\nimport usersReducer from \"./usersPageReducer\";\r\nimport userProfileReducer from \"./userProfileReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\n\r\nlet rootReducer = combineReducers({\r\n    appReducer,\r\n    newsReducer,\r\n    messagesReducer,\r\n    followReducer,\r\n    usersReducer,\r\n    userProfileReducer,\r\n    authReducer,\r\n    form: formReducer,\r\n});\r\n\r\ntype rootReducerType = typeof rootReducer;\r\nexport type AppStateType = ReturnType<rootReducerType>;\r\n\r\n/** Подключение REDUX DevTools */\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport style from \"./Header.module.css\";\r\nimport logo from '../../img/logo.png';\r\n\r\nlet Header = (props) => {\r\n\r\n    const onLogoutClick = () => {\r\n        props.onLogout();\r\n    }\r\n\r\n    return (\r\n        <header className={style.header}>\r\n            <div className={style.headerLogoBlock}>\r\n                <img\r\n                    src={logo}\r\n                    alt=\"Logo\"\r\n                />\r\n                <h1 className={style.title}>\r\n                    MessageMe\r\n                </h1>\r\n            </div>\r\n            <div className={style.loginBlock}>\r\n                {\r\n                    props.isAuth\r\n                    ? \r\n                        <button className={style.logoutButton} onClick={onLogoutClick}>\r\n                            Logout\r\n                        </button>\r\n                    : \r\n                        <NavLink to='/login'>\r\n                            <button className={style.loginButton} onClick={onLogoutClick}>\r\n                                Login\r\n                            </button>\r\n                        </NavLink>\r\n\r\n                }\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\nexport default Header;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { unsetUserThunkCreator } from '../../redux/authReducer';\r\n\r\nclass HeaderContainer extends React.Component \r\n{\r\n    onLogout = () => {\r\n        this.props.unsetUser();\r\n    }\r\n\r\n    render () {\r\n        return <Header {...this.props} userId={this.props.userId} onLogout={this.onLogout}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.authReducer.isAuth,\r\n        userData: state.authReducer.userData,\r\n    }\r\n}\r\n\r\nlet actionCreators = {\r\n    unsetUser: unsetUserThunkCreator,\r\n}\r\n\r\nexport default connect(mapStateToProps, actionCreators)(HeaderContainer);\r\n\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport style from \"./Nav.module.css\";\r\n\r\nlet Nav = () => {\r\n    return (\r\n        <nav className={style.nav}>\r\n            <h4 className={style.title}>Menu</h4>\r\n            <ul>\r\n                <li>\r\n                    <NavLink\r\n                        activeClassName={style.active}\r\n                        to=\"/profile\"\r\n                        className={style.item}\r\n                    >\r\n                        My Profile\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink\r\n                        className={style.item}\r\n                        to=\"/messages\"\r\n                        activeClassName={style.active}\r\n                    >\r\n                        Messages\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink\r\n                        className={style.item}\r\n                        to=\"/news\"\r\n                        activeClassName={style.active}\r\n                    >\r\n                        News\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink\r\n                        className={style.item}\r\n                        to=\"/music\"\r\n                        activeClassName={style.active}\r\n                    >\r\n                        Music\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink\r\n                        to=\"/settings\"\r\n                        className={style.item}\r\n                        activeClassName={style.active}\r\n                    >\r\n                        Settings\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink\r\n                        to=\"/users\"\r\n                        className={style.item}\r\n                        activeClassName={style.active}\r\n                    >\r\n                        Users\r\n                    </NavLink>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    );\r\n};\r\nexport default Nav;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport style from \"./MyProfileStatus.module.css\";\r\n\r\nconst MyProfileStatusWithHooks = (props) => {\r\n    \r\n    /** destructure assignment */\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n\r\n    const activateStatusEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    const diactivateStatusEditMode = () => {\r\n        props.updateStatus(status);\r\n        setEditMode(false);\r\n    }\r\n\r\n    const onChangeStatusText = (e) => {\r\n        let status = e.currentTarget.value;\r\n        setStatus(status);\r\n    }\r\n\r\n    return (\r\n        <div className={style.statusBlock}>\r\n            <h3 className={style.userInfoTitle + \" \" + style.statusTitle}>\r\n                Status\r\n            </h3>\r\n            {editMode ? (\r\n                <div>\r\n                    <input \r\n                        type=\"text\" \r\n                        autoFocus={true} \r\n                        value={status}\r\n                        onBlur={diactivateStatusEditMode}\r\n                        onChange={onChangeStatusText}\r\n                    />\r\n                </div>\r\n            ) : (\r\n                <span \r\n                    className={style.statusText}\r\n                    onDoubleClick={activateStatusEditMode}\r\n                    onTouchStart={activateStatusEditMode}\r\n                >\r\n                    {props.status !== \"\" && props.status !== undefined\r\n                        ? props.status\r\n                        : \"No status\"}\r\n                </span>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyProfileStatusWithHooks;\r\n","import { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { getStatus } from \"../../../redux/selectors/profileSelector\";\r\nimport { updateUserStatusThunkCreator } from \"../../../redux/userProfileReducer\";\r\nimport MyProfileStatusWithHooks from \"./MyProfileStatusWithHooks\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        status: getStatus(state),\r\n    }\r\n}\r\nconst actionCreators = {\r\n    updateStatus: updateUserStatusThunkCreator,\r\n}\r\n\r\nlet MyProfileStatusContainer = compose(\r\n    connect(mapStateToProps, actionCreators)\r\n)(MyProfileStatusWithHooks);\r\n\r\nexport default MyProfileStatusContainer;","import React from 'react';\r\nimport style from './Contacts.module.css';\r\n\r\nconst Contatcs = ({contacts}) => {\r\n    return (\r\n        <ul className={style.userContactsList}>\r\n        {\r\n            Object.keys(contacts).map( key => {\r\n                if (contacts[key] !== '' && contacts[key] !== null) {\r\n                    return (\r\n                        <li className={style.userContactsListItem}>\r\n                            <a href={contacts[key]} className={style.userContactslink + ' ' + style[key]}>{key}</a>\r\n                        </li>\r\n                    );\r\n                }\r\n                else return '';\r\n            })\r\n        }\r\n        </ul>\r\n    );\r\n}\r\n\r\nexport default Contatcs;","import React from 'react';\r\nimport style from './MyProfile.module.css';\r\nimport undefinedUser from '../../img/undefinedUser.png'\r\nimport MyProfileStatusContainer from './MyProfileStatus/MyProfileStatusContainer';\r\nimport classnames from 'classnames';\r\nimport Contacts from '../common/Contacts/Contacts';\r\n\r\nclass MyProfile extends React.Component\r\n{    \r\n\r\n    templateAbout = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi tempus libero vel massa vulputate congue. Aenean commodo sem vitae dolor varius, in cursus est semper. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Maecenas nulla augue, pretium in metus eu, gravida auctor quam. Donec et sem metus. Nulla sit amet eros sem. Sed vel lacinia est, id laoreet erat.';\r\n\r\n    onAvatarChange = (e) => {\r\n        if (e.target.files.length) {\r\n            this.props.uploadPhoto(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={style.user}>\r\n                <div className={style.userImageBlock}>\r\n                    {\r\n                        this.props.profile.photos.large\r\n                        ? <img src={this.props.profile.photos.large} alt=\"\" className={style.userImage} />\r\n                        : <img src={undefinedUser} alt=\"\" className={style.userImage} />\r\n                    }\r\n                    <div className={style.userAvatarInputBlock}>\r\n                        <label htmlFor=\"avatarInput\" className={style.userAvatarIcon}>\r\n                            ↻\r\n                            <input \r\n                                type=\"file\" o\r\n                                nChange={this.onAvatarChange} \r\n                                className={style.userAvatarInput} \r\n                                id=\"avatarInput\" \r\n                                name=\"avatarInput\"\r\n                            />\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n                <div className={style.userInfoBlock}>\r\n                    <div className={classnames(style.userInfoBlockItem, style.userFullnameBlock)}>\r\n                        <h3 className={style.userInfoTitle + ' ' + style.userFullnameTitle}>\r\n                            Fullname\r\n                        </h3>\r\n                        <span className={style.userFullname}>\r\n                            {this.props.profile.fullName}\r\n                        </span>\r\n                        <MyProfileStatusContainer userId={this.props.profile.userId}/>\r\n                    </div>\r\n                    <div className={classnames(style.userInfoBlockItem)}>\r\n                        <h3 className={style.userInfoTitle + ' ' + style.userFullnameTitle}>\r\n                            Contacts\r\n                        </h3>\r\n                        <div className={style.userInfoBlockItem + ' ' + style.userContactsBlock}>\r\n                            {\r\n                                Object.keys(this.props.profile.contacts).length !== 0 \r\n                                ? \r\n                                    <Contacts contacts={this.props.profile.contacts}/>\r\n                                :\r\n                                    <span className={style.userContactsUnavailable}>\r\n                                        User has no available contatcs\r\n                                    </span> \r\n\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={style.userAboutBlock}>\r\n                    <p className={style.userAbout}>\r\n                        {\r\n                            this.props.profile.aboutMe\r\n                            ? this.props.profile.aboutMe\r\n                            : this.templateAbout\r\n                        }\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nexport default MyProfile;","import React from 'react';\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport MyProfile from \"./MyProfile\";\r\nimport withAuthRedirect from \"../hoc/withAuthRedirect\";\r\nimport {\r\n    initProfile,\r\n    unsetUserProfileActionCreator,\r\n    uploadPhotoThunkCreator,\r\n} from '../../redux/userProfileReducer';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { getId, getProfile } from '../../redux/selectors/profileSelector';\r\n\r\nclass MyProfileAPIContainer extends React.Component \r\n{\r\n    componentDidMount() {\r\n        this.props.initProfile(this.props.id);\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n        this.props.unsetUserProfile();\r\n    }\r\n\r\n    uploadPhoto = (file) => {\r\n        this.props.uploadPhoto(file);\r\n    }\r\n\r\n    render () {\r\n        if (!this.props.init) {\r\n            return <Preloader />;\r\n        }\r\n        return (\r\n            <MyProfile \r\n                {...this.props} \r\n                profile={this.props.profile} \r\n                uploadPhoto={this.uploadPhoto}\r\n            />\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        id: getId(state),\r\n        profile: getProfile(state),\r\n        init: state.userProfileReducer.init,\r\n    };\r\n};\r\n\r\nconst actionCreators = {\r\n    unsetUserProfile: unsetUserProfileActionCreator,\r\n    initProfile: initProfile,\r\n    uploadPhoto: uploadPhotoThunkCreator,\r\n};\r\n\r\nlet MyProfileContainer = compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, actionCreators),\r\n)(MyProfileAPIContainer);\r\n\r\nexport default MyProfileContainer;\r\n","export const getFollowComponentUsers = (state) => {\r\n    return state.followReducer.followData;\r\n}","import React from \"react\";\r\nimport style from \"./User.module.css\";\r\nimport { NavLink } from 'react-router-dom';\r\nimport undefinedUser from '../../../img/undefinedUser.png';\r\n\r\nlet User = (props) => {\r\n    return (\r\n        <div className={style.user}>\r\n            <NavLink to={'/user/' + props.id} userId={props.id}>\r\n\r\n            {\r\n                props.avatar\r\n                ? <img src={props.avatar} alt=\"\" />\r\n                : <img src={undefinedUser} alt=\"\"/>\r\n            }\r\n            </NavLink>\r\n            <div className={style.userDesc}>\r\n                <span className={style.userName}>{props.name}</span>\r\n                <span className={style.addUser}>Follow</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default User;\r\n","import React from \"react\";\r\nimport style from \"./Follow.module.css\";\r\nimport User from \"./User/User\";\r\n\r\n\r\nlet Follow = (props) => {\r\n\r\n    let follow = props.followData\r\n                    .map(user => \r\n                        <User\r\n                            id={user.id}\r\n                            name={user.name}\r\n                            avatar={user.photos.small}\r\n                            key={user.id}\r\n                        />\r\n                    );\r\n    return (\r\n        <div className={style.follow}>\r\n            <h4>Who to Follow</h4>\r\n            {follow}\r\n        </div>\r\n    );\r\n};\r\nexport default Follow;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getUsersThunkCreator } from \"../../redux/followReducer\";\r\nimport { getFollowComponentUsers } from \"../../redux/selectors/followSelector\";\r\nimport Follow from \"./Follow\";\r\n\r\nclass FollowAPIContainer extends React.Component \r\n{\r\n    componentDidMount() {\r\n        this.props.getUsers(3, 1);\r\n    }\r\n    render() {\r\n        return(\r\n            <div>\r\n                {\r\n                    this.props.followData.length > 0 \r\n                    ? <Follow followData={this.props.followData} /> \r\n                    : ''\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        followData: getFollowComponentUsers(state),\r\n    }\r\n}\r\nlet actionCreators = {\r\n    getUsers: getUsersThunkCreator\r\n}\r\n\r\nconst FollowContainer = connect(mapStateToProps, actionCreators)(FollowAPIContainer);\r\n\r\nexport default FollowContainer;\r\n","import React from \"react\";\r\nimport Preloader from '../common/Preloader/Preloader';\r\n\r\nconst withSuspense = (Component) => (props) => {\r\n    return (\r\n        <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props} />\r\n        </React.Suspense>  \r\n    );\r\n};\r\n\r\nexport default withSuspense;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport store from \"./redux/reduxStore\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Nav from \"./components/Nav/Nav\";\nimport MyProfileContainer from \"./components/MyProfile/MyProfileContainer\";\nimport FollowContainer from \"./components/Follow/FollowContainer\";\nimport { Route, withRouter, HashRouter, Switch, Redirect } from \"react-router-dom\";\nimport { Component } from \"react\";\nimport { connect, Provider } from \"react-redux\";\nimport { initializeApp } from \"./redux/appReducer\";\nimport { compose } from \"redux\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport withSuspense from \"./components/hoc/withSuspense\";\n\n/** Lazy load */\nconst NewsContainer = React.lazy(() => import(\"./components/News/NewsContainer\"));\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"));\nconst MessagesContainer = React.lazy(() => import(\"./components/Messages/MessagesContainer\"));\nconst UserProfileContainer = React.lazy(() => import(\"./components/UserProfile/UserProfileContainer\"));\nconst LoginContainer = React.lazy(() => import(\"./components/Login/LoginContainer\"));\nconst Settings = React.lazy(() => import(\"./components/Settings/Settings\"));\n\n\nclass App extends Component {\n\n    catchAllUnhandledErrors = (promiseRejectionEvent) => {\n        alert(promiseRejectionEvent.reason);\n    }\n\n    componentDidMount() {\n        this.props.initializeApp();\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    }\n\n    render() {\n        if (!this.props.isInitialized) {\n            return <Preloader />;\n        }\n        return (\n            <Switch>\n                <Route path=\"/login\" render={withSuspense(LoginContainer)} />\n                <Route path=\"*\" render={() => {\n                    return (\n                        <div>\n                            <div className=\"header-background\">\n                                <div className=\"wrapper wrapper-header\">\n                                    <HeaderContainer />\n                                </div>\n                            </div>\n                            <div className=\"wrapper wrapper-content\">\n                                <aside className=\"sidebar\">\n                                    <Nav />\n                                    <FollowContainer />\n                                </aside>\n                                <div className=\"content\">\n                                    <Switch>\n                                        <Redirect exact from='/' to='/profile' />\n                                        <Route path=\"/news\" render={withSuspense(NewsContainer)}/>\n                                        <Route path=\"/settings\" render={withSuspense(Settings)}/>\n                                        <Route\n                                            path=\"/messages\"\n                                            render={withSuspense(MessagesContainer)}/>\n                                        <Route\n                                            path=\"/users\"\n                                            render={withSuspense(UsersContainer)} />\n                                        <Route\n                                            path=\"/user/:userId\"\n                                            render={withSuspense(UserProfileContainer)}/>\n                                        <Route\n                                            path=\"/profile\"\n                                            render={() => <MyProfileContainer />}\n                                        />\n                                        <Route path=\"*\" render={() => <div>404 NOT FOUND</div>} />\n                                    </Switch>\n                                </div>\n                            </div>\n                        </div>\n                    );\n                }} />\n            </Switch>\n        );\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        isInitialized: state.appReducer.initialized,\n        isAuth: state.authReducer.isAuth,\n    }\n}\n\nlet actionCreators = {\n    initializeApp: initializeApp,\n}\n\nconst AppContainer =  compose(\n    withRouter, \n    connect(mapStateToProps, actionCreators),\n)(App);\n\nconst MainApp = (props) => {\n    return (\n        <Provider store={store}>\n            <HashRouter>\n                <AppContainer store={store} />\n            </HashRouter>\n        </Provider>\n    )\n}\n\nexport default MainApp;\n","import * as serviceWorker from \"./serviceWorker\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport MainApp from \"./App\";\n\nReactDOM.render(<MainApp/>, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { UserProfileInitialStateType, UserProfileType, PhotosType } from './types/types';\r\nimport {profileAPI} from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\n\r\nconst SET_USER_PROFILE = 'message-me/userProfile/SET-USER-PROFILE';\r\nconst UNSET_USER_PROFILE = 'message-me/userProfile/UNSET-USER-PROFILE';\r\nconst SET_USER_STATUS = 'message-me/userProfile/SET-USER-STATUS';\r\nconst SET_INIT = 'message-me/userProfile/SET-INIT-PROFILE';\r\nconst SET_PHOTOS = 'message-me/userProfile/SET-PHOTOS';\r\n\r\n\r\n\r\nlet initialState: UserProfileInitialStateType = {\r\n    userProfile: null,\r\n    userStatus: \"\",\r\n    init: false,\r\n}\r\n\r\nconst userProfileReducer = (state = initialState, action: any): UserProfileInitialStateType => {\r\n\r\n    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case SET_INIT: {\r\n            stateCopy = {\r\n                ...state,\r\n                userProfile: {...state.userProfile},\r\n                init: true,\r\n            }\r\n            break;\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            stateCopy = {\r\n                ...state,\r\n                userProfile: {...action.userProfile},\r\n            }\r\n            break;\r\n        }\r\n        case UNSET_USER_PROFILE: {\r\n            stateCopy = {\r\n                ...state,\r\n                userProfile: null,\r\n                userStatus: \"\",\r\n                init: false,\r\n            }\r\n            break;\r\n        }\r\n        case SET_USER_STATUS: {\r\n            stateCopy = {\r\n                ...state,\r\n                userStatus: action.status,\r\n            }\r\n            break;\r\n        }\r\n        case SET_PHOTOS: {\r\n            stateCopy = {\r\n                ...state,\r\n                userProfile: {...state.userProfile, photos: action.photos},\r\n            }\r\n            break;\r\n        }\r\n        default: \r\n            stateCopy = {...state};\r\n    }\r\n\r\n\r\n    return stateCopy;\r\n}\r\n\r\n/** -------ActionTypes------- */\r\ntype SetUserProfileActionType = {\r\n    type: typeof SET_USER_PROFILE\r\n    userProfile: UserProfileType\r\n}\r\ntype UnsetUserProfileActionType = {\r\n    type: typeof UNSET_USER_PROFILE\r\n}\r\ntype SetUserStatusActionType = {\r\n    type: typeof SET_USER_STATUS,\r\n    status: string\r\n}\r\ntype SetInitActionType = {\r\n    type: typeof SET_INIT\r\n}\r\ntype UploadPhotoActionType = {\r\n    type: typeof SET_PHOTOS,\r\n    photos: PhotosType,\r\n}\r\n\r\n/** ------------------------- */\r\n\r\n/** --------Action creators-------- */\r\nexport const setUserProfileActionCreator = (userProfile: UserProfileType): SetUserProfileActionType => {\r\n    let action: SetUserProfileActionType = {\r\n        type: SET_USER_PROFILE,\r\n        userProfile: userProfile,\r\n    }\r\n    return action;\r\n}\r\nexport const unsetUserProfileActionCreator = (): UnsetUserProfileActionType => {\r\n    let action: UnsetUserProfileActionType = {\r\n        type: UNSET_USER_PROFILE,\r\n    }\r\n    return action;\r\n}\r\nexport const setUserStatusActionCreator = (status: string): SetUserStatusActionType => {\r\n    let action: SetUserStatusActionType = {\r\n        type: SET_USER_STATUS,\r\n        status: status,\r\n    }\r\n    return action;\r\n}\r\nconst setInitActionCreator = (): SetInitActionType => {\r\n    let action: SetInitActionType = {\r\n        type: SET_INIT,\r\n    }\r\n    return action;\r\n}\r\nconst uploadPhotoActionCreator = (photos: PhotosType): UploadPhotoActionType => {\r\n    let action: UploadPhotoActionType = {\r\n        type: SET_PHOTOS,\r\n        photos: photos,\r\n    }\r\n    return action;\r\n}\r\n/** ------------------------------ */\r\n\r\n/** -------------Thunk Creators------------- */\r\nconst getUserProfileThunkCreator = (userId: number) => async (dispatch: any) => {\r\n    let response =  await profileAPI.setUserInfoById(userId);\r\n    dispatch(setUserProfileActionCreator(response));\r\n} \r\n\r\nconst getUserStatusThunkCreator = (userId: number) => async (dispatch: any) => {\r\n    let response =  await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatusActionCreator(response));\r\n} \r\n\r\nexport const updateUserStatusThunkCreator = (status: string) => async (dispatch: any) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.resultCode === 0) {\r\n        dispatch(setUserStatusActionCreator(status));\r\n    }\r\n    else {\r\n        Promise.reject(response.messages[0]);\r\n    }\r\n} \r\nexport const uploadPhotoThunkCreator = (file: any) => async (dispatch: any) => {\r\n    let response = await profileAPI.uploadPhoto(file);\r\n    if (response.resultCode === 0) {\r\n        dispatch(uploadPhotoActionCreator(response.data.photos));\r\n    }\r\n}\r\nexport const saveProfileDataThunkCreator = (formData: any) => async (dispatch: any, getState: any) => {\r\n    const userId = getState().authReducer.userData.id;\r\n    const response = await profileAPI.saveProfileData(formData);\r\n\r\n    if (response.resultCode === 0) {\r\n        dispatch(getUserProfileThunkCreator(userId));\r\n    }\r\n    else {\r\n        let error_message = response.messages.length > 0 ? response.messages[0] : 'Invalid form data';\r\n        let index = error_message.indexOf('Contacts->');\r\n        let action = {};\r\n        if (index !== -1) {\r\n            let contact_key = error_message.substring(index + 10, error_message.length - 1).toLowerCase();\r\n            action = stopSubmit('myprofileSettings', {'contacts': {[contact_key]: error_message} } );\r\n        }\r\n        else {\r\n            action = stopSubmit('myprofileSettings', {_error: error_message});\r\n        }\r\n        dispatch(action);\r\n    }\r\n}\r\n/** ---------------------------------------- */\r\n\r\n/** --------------Init-------------- */\r\nexport const initProfile = (userId: number) => (dispatch: any) => {\r\n    let profile =  dispatch(getUserProfileThunkCreator(userId));\r\n    let status =  dispatch(getUserStatusThunkCreator(userId));\r\n\r\n    Promise.all([profile, status]).then( () => {\r\n        dispatch(setInitActionCreator());\r\n    })\r\n}\r\n/** -------------------------------- */\r\n\r\nexport default userProfileReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__17mBi\",\"title\":\"Header_title__2egTu\",\"headerLogoBlock\":\"Header_headerLogoBlock__34PFJ\",\"logoutButton\":\"Header_logoutButton__2O5Cs\",\"loginButton\":\"Header_loginButton__1Tup7\"};","import React from 'react';\r\nimport style from './Preloader.module.css'\r\nimport loader from '../../../img/loader.svg';\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div className={style.preloader}>\r\n            <img\r\n                src={loader}\r\n                alt=\"Loading...\"\r\n                className={style.preloaderImage}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Preloader;\r\n","import { stopSubmit } from 'redux-form';\r\nimport {authAPI, securityAPI} from '../api/api';\r\nimport { InitialAuthReducerStateType } from \"./types/types\";\r\n\r\nconst SET_USER_DATA = 'message-me/authReducer/SET-USER-DATA';\r\nconst UNSET_USER_DATA = 'message-me/authReducer/UNSET-USER-DATA';\r\nconst TOGLE_IS_AUTH = 'message-me/authReducer/TOGLE-IS-AUTH';\r\nconst SET_CAPTCHA_URL = 'message-me/authReducer/SET-CAPTCHA-URL';\r\n\r\n\r\nlet initialState: InitialAuthReducerStateType = {\r\n    userData: {\r\n        id: null,\r\n        email: null,\r\n        login: null,\r\n        captchaUrl: null,\r\n    },\r\n    isAuth: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action: any): InitialAuthReducerStateType => {\r\n    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            stateCopy = {\r\n                ...state,\r\n                userData: {...action.payload},\r\n            }\r\n            break;\r\n        }\r\n        case UNSET_USER_DATA: {\r\n            stateCopy = {\r\n                ...state,\r\n                userData: {...action.payload},\r\n            }\r\n            break;\r\n        }\r\n        case TOGLE_IS_AUTH: {\r\n            stateCopy = {\r\n                ...state,\r\n                isAuth: action.isAuth,\r\n            }\r\n            break;\r\n        }\r\n        case SET_CAPTCHA_URL: {\r\n            stateCopy = {\r\n                ...state,\r\n                userData: { \r\n                    ...state.userData,\r\n                    captchaUrl: action.url,\r\n                }\r\n            }\r\n            break;\r\n        }\r\n        default: \r\n            stateCopy = {...state}\r\n    }\r\n\r\n    return stateCopy;\r\n}\r\n\r\n/** -----Helpful types------ */\r\ntype PayloadType = {\r\n    id: number | null,\r\n    email: string | null,\r\n    login: string | null,\r\n}\r\n/** ------------------------ */\r\n\r\n/** -----Action types------- */\r\ntype SetUserActionType = {\r\n    type: typeof SET_USER_DATA,\r\n    payload: PayloadType,\r\n}\r\ntype UnsetUserActionType = {\r\n    type: typeof UNSET_USER_DATA,\r\n    payload: PayloadType,\r\n}\r\ntype SetIsAuthActionCreator = {\r\n    type: typeof TOGLE_IS_AUTH,\r\n    isAuth: boolean,\r\n}\r\ntype SetCaptchaUrlActionCreator = {\r\n    type: typeof SET_CAPTCHA_URL,\r\n    url: string,\r\n}\r\n/** ------------------------ */\r\n\r\n/** -------Action creators--------- */\r\nexport const setUserActionCreator = (payload: PayloadType): SetUserActionType => {\r\n    let action: SetUserActionType = {\r\n        type: SET_USER_DATA,\r\n        payload: payload,\r\n    }\r\n    return action;\r\n}\r\nexport const unsetUserActionCreator = (payload: PayloadType): UnsetUserActionType => {\r\n    let action: UnsetUserActionType = {\r\n        type: UNSET_USER_DATA,\r\n        payload: payload,\r\n    }\r\n    return action;\r\n}\r\n\r\nexport const setIsAuthActionCreator = (isAuth: boolean): SetIsAuthActionCreator => {\r\n    let action: SetIsAuthActionCreator = {\r\n        type: TOGLE_IS_AUTH,\r\n        isAuth: isAuth,\r\n    }\r\n    return action;\r\n}\r\n\r\nconst setCaptchaUrlActionCreator = (url: string): SetCaptchaUrlActionCreator => {\r\n    let action: SetCaptchaUrlActionCreator = {\r\n        type: SET_CAPTCHA_URL,\r\n        url: url,\r\n    }\r\n    return action;\r\n}\r\n/** --------------------------------- */\r\n\r\n/** -------Thunk creators--------- */\r\nexport const checkAuthThunkCreator = () => async (dispatch: any) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.resultCode === 0) {\r\n        dispatch(setUserActionCreator(response.data));\r\n        dispatch(setIsAuthActionCreator(true));\r\n    }\r\n}\r\n\r\nexport const unsetUserThunkCreator = () => async (dispatch: any) => {\r\n    let response = await authAPI.logout();\r\n    if (response.resultCode === 0) {\r\n        let payload = {\r\n            id: null,\r\n            email: null,\r\n            login: null,\r\n            captchaUrl: null,\r\n        }\r\n        dispatch(unsetUserActionCreator(payload));\r\n        dispatch(setIsAuthActionCreator(false));\r\n    }\r\n}\r\nconst getCaptchaUrlThunkCreator = () => async (dispatch: any) => {\r\n    let response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.url;\r\n\r\n    dispatch(setCaptchaUrlActionCreator(captchaUrl));\r\n}\r\n\r\nexport const setIsAuthThunkCreator = (formData: any) => async (dispatch: any) => {\r\n    let response = await authAPI.login(formData);\r\n    if (response.resultCode === 0) {\r\n        let payload: PayloadType = {\r\n            id: response.data.userId,\r\n            email: null,\r\n            login: null,\r\n        }\r\n        dispatch(setUserActionCreator(payload));\r\n        dispatch(setIsAuthActionCreator(true));\r\n    }\r\n    else {\r\n        /** Неверный код капчи */\r\n        if (response.resultCode === 10) {\r\n            dispatch(getCaptchaUrlThunkCreator());\r\n        }\r\n\r\n        let error_message = response.messages.length > 0 ? response.messages[0] : 'Email or password is incorrect';\r\n        let action = stopSubmit('login', {_error: error_message});\r\n        dispatch(action);\r\n    }\r\n}\r\n/** --------------------------------- */\r\n\r\nexport default authReducer;","export const getId = (state) => {\r\n    return state.authReducer.userData.id;\r\n}\r\nexport const getProfile = (state) => {\r\n    return state.userProfileReducer.userProfile;\r\n}\r\nexport const getStatus = (state) => {\r\n    return state.userProfileReducer.userStatus;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statusBlock\":\"MyProfileStatus_statusBlock__wgbWg\",\"statusText\":\"MyProfileStatus_statusText__v4j7d\",\"userInfoTitle\":\"MyProfileStatus_userInfoTitle__6edsK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userContactsList\":\"Contacts_userContactsList__3bRvJ\",\"userContactslink\":\"Contacts_userContactslink__m29A-\",\"github\":\"Contacts_github__nme50\",\"vk\":\"Contacts_vk__3Mgbh\",\"facebook\":\"Contacts_facebook__1CSVj\",\"twitter\":\"Contacts_twitter__FWx9d\",\"youtube\":\"Contacts_youtube__kAkXE\",\"website\":\"Contacts_website__1RG0z\",\"mainLink\":\"Contacts_mainLink__3ECWB\",\"instagram\":\"Contacts_instagram__9P9Us\",\"userContactsListItem\":\"Contacts_userContactsListItem__11cCq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3zQMh\",\"userName\":\"User_userName__1w6dL\",\"addUser\":\"User_addUser__sZHNF\",\"userDesc\":\"User_userDesc__3u-6N\"};","module.exports = __webpack_public_path__ + \"static/media/undefinedUser.d961d73a.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"MyProfile_user__M8ATN\",\"userImageBlock\":\"MyProfile_userImageBlock__2VRAV\",\"userImage\":\"MyProfile_userImage__36zO5\",\"userAvatarInputBlock\":\"MyProfile_userAvatarInputBlock__2kBud\",\"userAvatarIcon\":\"MyProfile_userAvatarIcon__2Yjvx\",\"userAvatarInput\":\"MyProfile_userAvatarInput__2ugAf\",\"userInfoBlock\":\"MyProfile_userInfoBlock__12OIo\",\"userInfoBlockItem\":\"MyProfile_userInfoBlockItem__c4dbA\",\"userFullnameBlock\":\"MyProfile_userFullnameBlock__i0z10\",\"userFullname\":\"MyProfile_userFullname__3MUOQ\",\"userFullnameTitle\":\"MyProfile_userFullnameTitle__3-95p\",\"userInfoTitle\":\"MyProfile_userInfoTitle__1-8Nb\",\"userAboutBlock\":\"MyProfile_userAboutBlock__1mnQ-\",\"userAbout\":\"MyProfile_userAbout__6rG1c\",\"userContactsUnavailable\":\"MyProfile_userContactsUnavailable__3OtSM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationListItemCurrent\":\"Preloader_paginationListItemCurrent__2MvIc\",\"preloader\":\"Preloader_preloader__3x4U7\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '243c72f1-6008-4b8d-8dff-b9a03a32b432',\r\n    },\r\n})\r\n\r\nconst usersAPI = {\r\n    getUsers(count = 10, page = 1) {\r\n        return instance.get(`users?count=${count}&page=${page}`).then( response => response.data);\r\n    },\r\n    followUserById(userId)  {\r\n        return instance.post(`follow/${userId}`).then( response => response.data);\r\n    },\r\n    unfollowUserById(userId) {\r\n        return instance.delete(`follow/${userId}`).then( response => response.data);\r\n    },\r\n    setUserInfoById(userId) {\r\n        console.warn('Method deprecated! Use profileAPI method to set user info.');\r\n        return profileAPI.setUserInfoById(userId);\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    setUserInfoById(userId) {\r\n        return instance.get(`profile/${userId}`).then( response => response.data);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`).then( response => response.data);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status }).then( response => response.data);\r\n    },\r\n    uploadPhoto(image) {\r\n        const formData = new FormData();\r\n        formData.append('image', image);\r\n        \r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then( response => response.data);\r\n    },\r\n    saveProfileData(formData) {\r\n        return instance.put(`profile`, formData).then( response => response.data);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get('auth/me').then( response => response.data);\r\n    },\r\n    login(formData) {\r\n        return instance.post('auth/login', {\r\n            email: formData.email,\r\n            password: formData.password,\r\n            rememberMe: formData.rememberMe,\r\n            captcha: formData.captcha ? formData.captcha : false,\r\n        }).then( response => response.data);\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login').then( response => response.data);\r\n    },\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get('security/get-captcha-url').then( response => response.data);\r\n    },\r\n}\r\n\r\nexport default usersAPI;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to=\"/login\" />;\r\n\r\n            return <Component {...this.props} isAuth={this.props.isAuth} userData={this.props.userData}/>;\r\n        }\r\n    };\r\n\r\n    let mapStateToProps = (state) => {\r\n        return {\r\n            isAuth: state.authReducer.isAuth,\r\n            userData: state.authReducer.userData,\r\n        }\r\n    };\r\n    let actionCreators = {};\r\n\r\n    let ConnectedRedirectComponent = connect(\r\n        mapStateToProps,\r\n        actionCreators\r\n    )(RedirectComponent);\r\n\r\n    return ConnectedRedirectComponent;\r\n};\r\n\r\nexport default withAuthRedirect;\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProp) => {\r\n    return items.map( item => {\r\n        if (item[objPropName] === parseInt(itemId)) {\r\n            let itemCopy = {\r\n                ...item,\r\n                ...newObjProp\r\n            };\r\n            return itemCopy;\r\n        }\r\n        return item;\r\n    })\r\n}","import { setUserActionCreator } from './authReducer';\r\nimport { UsersPageInitialStateType, UsersPageUserDataType } from './types/types';\r\nimport usersAPI from '../api/api';\r\nimport { updateObjectInArray } from '../utils/helpers/helperObject';\r\n\r\nconst FOLLOW_USER = \"message-me/usersReducer/FOLLOW-USER\";\r\nconst UNFOLLOW_USER = \"message-me/usersReducer/UNFOLLOW-USER\";\r\nconst SET_USERS = \"message-me/usersReducer/SET-USERS\";\r\nconst UNSET_USERS = \"message-me/usersReducer/UNSET-USERS\";\r\nconst SET_USERS_COUNT = \"message-me/usersReducer/SET-USERS-COUNT\";\r\nconst SET_PAGE_SIZE = \"message-me/usersReducer/SET-PAGE-SIZE\";\r\nconst SET_PAGES_COUNT = \"message-me/usersReducer/SET-PAGES-COUNT\";\r\nconst SET_CURRENT_PAGE = \"message-me/usersReducer/CHANGE-CURRENT-PAGE\";\r\nconst IS_FETCHING = \"message-me/usersReducer/IS-FETCHING\";\r\nconst FOLLOWING_IN_PROGRESS = \"message-me/usersReducer/FOLLOWING-IN-PROGRESS\";\r\n\r\nlet initialState: UsersPageInitialStateType = {\r\n    usersData: [],\r\n    pageSize: 10,\r\n    totalUsers: 0,\r\n    pagesCount: 0,\r\n    pages: [1],\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action: any): UsersPageInitialStateType => {\r\n\r\n    let stateCopy: UsersPageInitialStateType;\r\n\r\n    switch (action.type) {\r\n        case SET_USERS: {\r\n\r\n            if (action.showMore) {\r\n                stateCopy = {\r\n                    ...state,\r\n                    usersData: [ ...state.usersData, ...action.users],\r\n                };\r\n            }\r\n            else {\r\n                stateCopy = {\r\n                    ...state,\r\n                    usersData: [...action.users],\r\n                };\r\n            }\r\n            break;\r\n        }\r\n        case UNSET_USERS: {\r\n            stateCopy = {\r\n                ...state,\r\n                usersData: [],\r\n                currentPage: 1\r\n            };\r\n            break;\r\n        }\r\n        case SET_USERS_COUNT: {\r\n            stateCopy = {\r\n                ...state,\r\n                totalUsers: action.count\r\n            };\r\n\r\n            break;\r\n        }\r\n        case SET_PAGE_SIZE: {\r\n            stateCopy = {\r\n                ...state,\r\n                pageSize: action.size\r\n            };\r\n\r\n            break;\r\n        }\r\n        case SET_PAGES_COUNT: {\r\n\r\n            stateCopy = {\r\n                ...state,\r\n                pagesCount: action.count,\r\n                pages: [],\r\n            };\r\n\r\n            for (let i = 1; i <= action.count; i++) {\r\n                stateCopy.pages.push(i);\r\n            }\r\n\r\n            break;\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            stateCopy = {\r\n                ...state,\r\n                currentPage: action.pageNum\r\n            };\r\n\r\n            break;\r\n        }\r\n        case IS_FETCHING: {\r\n            stateCopy = {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            };\r\n\r\n            break;\r\n        }\r\n        case FOLLOW_USER: {\r\n            stateCopy = {\r\n                ...state,\r\n                usersData: updateObjectInArray(state.usersData, action.user_id, 'id', {followed: true}),\r\n            };\r\n\r\n            break;\r\n        }\r\n        case UNFOLLOW_USER: {\r\n            stateCopy = {\r\n                ...state,\r\n                usersData: updateObjectInArray(state.usersData, action.user_id, 'id', {followed: false}),\r\n            };\r\n\r\n            break;\r\n        }\r\n        case FOLLOWING_IN_PROGRESS: {\r\n            stateCopy = {\r\n                ...state,\r\n                followingInProgress: action.progress \r\n                ? [...state.followingInProgress, action.user_id]\r\n                : state.followingInProgress.filter( id => id !== action.user_id)\r\n            };\r\n\r\n            break;\r\n        }\r\n        default: {\r\n            stateCopy = { ...state };\r\n            break;\r\n        }\r\n    }\r\n\r\n    return stateCopy;\r\n};\r\n\r\n/** ------Action types------ */\r\ntype FollowActionType = {\r\n    type: typeof FOLLOW_USER\r\n    user_id: number\r\n}\r\ntype UnfollowActionType = {\r\n    type: typeof UNFOLLOW_USER\r\n    user_id: number\r\n}\r\ntype FollowingProgressActionType = {\r\n    type: typeof FOLLOWING_IN_PROGRESS\r\n    progress: boolean\r\n    user_id: number\r\n}\r\ntype SetUserActionType = {\r\n    type: typeof SET_USERS\r\n    users: Array<UsersPageUserDataType>\r\n    showMore: boolean\r\n}\r\ntype SetTotalUsersActionType = {\r\n    type: typeof SET_USERS_COUNT\r\n    count: number\r\n}\r\ntype SetPageSizeActionType = {\r\n    type: typeof SET_PAGE_SIZE\r\n    size: number\r\n}\r\ntype SetPagesCountActionType = {\r\n    type: typeof SET_PAGES_COUNT\r\n    count: number\r\n}\r\ntype SetCurrentPageActionType = {\r\n    type: typeof SET_CURRENT_PAGE\r\n    pageNum: number\r\n};\r\ntype SetIsFetchingActionType = {\r\n    type: typeof IS_FETCHING\r\n    isFetching: boolean\r\n};\r\ntype UnsetUsersActionType = {\r\n    type: typeof UNSET_USERS\r\n};\r\n/** ------------------------ */\r\n\r\n/** ---------------Action creators--------------- */\r\nexport const followActionCreator = (user_id: number): FollowActionType => {\r\n    let action: FollowActionType = {\r\n        type: FOLLOW_USER,\r\n        user_id: user_id,\r\n    };\r\n    return action;\r\n};\r\nexport const unfollowActionCreator = (user_id: number): UnfollowActionType => {\r\n    let action: UnfollowActionType = {\r\n        type: UNFOLLOW_USER,\r\n        user_id: user_id,\r\n    };\r\n    return action;\r\n};\r\nexport const followingProgressActionCreator = (user_id: number, progress: boolean): FollowingProgressActionType => {\r\n    let action: FollowingProgressActionType = {\r\n        type: FOLLOWING_IN_PROGRESS,\r\n        progress: progress,\r\n        user_id: user_id,\r\n    };\r\n    return action;\r\n};\r\nexport const setUsersActionCreator = (users: Array<UsersPageUserDataType>, showMore: boolean = false): SetUserActionType => {\r\n    let action: SetUserActionType = {\r\n        type: SET_USERS,\r\n        users: users,\r\n        showMore: showMore,\r\n    };\r\n    return action;\r\n};\r\nexport const setTotalUsersActionCreator = (count: number): SetTotalUsersActionType => {\r\n    let action: SetTotalUsersActionType = {\r\n        type: SET_USERS_COUNT,\r\n        count: count,\r\n    };\r\n    return action;\r\n};\r\nexport const setPageSizeActionCreator = (size: number): SetPageSizeActionType => {\r\n    let action: SetPageSizeActionType = {\r\n        type: SET_PAGE_SIZE,\r\n        size: size,\r\n    };\r\n    return action;\r\n};\r\nexport const setPagesCountActionCreator = (count: number): SetPagesCountActionType => {\r\n    let action: SetPagesCountActionType = {\r\n        type: SET_PAGES_COUNT,\r\n        count: count,\r\n    };\r\n    return action;\r\n};\r\nexport const setCurrentPageActionCreator = (pageNum: number): SetCurrentPageActionType => {\r\n    let action: SetCurrentPageActionType = {\r\n        type: SET_CURRENT_PAGE,\r\n        pageNum: pageNum,\r\n    };\r\n    return action;\r\n};\r\nexport const setIsFetchingActionCreator = (isFetching: boolean): SetIsFetchingActionType => {\r\n    let action: SetIsFetchingActionType = {\r\n        type: IS_FETCHING,\r\n        isFetching: isFetching,\r\n    };\r\n    return action;\r\n};\r\nexport const unsetUsersActionCreator = (): UnsetUsersActionType => {\r\n    let action: UnsetUsersActionType = {\r\n        type: UNSET_USERS\r\n    }\r\n    return action;\r\n}\r\n/** --------------------------------------------- */\r\n\r\n/** ---------------Thunk Creators---------------- */\r\nexport const getUsersThunkCreator = (count: number, page: number) => async (dispatch: any) => {\r\n\r\n    dispatch(setIsFetchingActionCreator(true));\r\n\r\n    let response = await usersAPI.getUsers(count, page);\r\n\r\n    if (response.error === null) {\r\n        dispatch(setUsersActionCreator(response.items));\r\n        dispatch(setPageSizeActionCreator(count));\r\n        dispatch(setPagesCountActionCreator(Math.ceil(response.totalCount / count)));\r\n        dispatch(setCurrentPageActionCreator(page));\r\n        dispatch(setIsFetchingActionCreator(false));\r\n    }\r\n} \r\nexport const toggleFollowThunkCreator = (user_id: number, isFollow: boolean) => {\r\n    if (isFollow) {\r\n        return async (dispatch: any) => {\r\n            toggleFollowUnfollow(dispatch, user_id, usersAPI.followUserById.bind(usersAPI), followActionCreator);\r\n        }\r\n    }\r\n    else {\r\n        return async (dispatch: any) => {\r\n            toggleFollowUnfollow(dispatch, user_id, usersAPI.unfollowUserById.bind(usersAPI), unfollowActionCreator);\r\n        } \r\n    }\r\n} \r\nexport const showMoreUsersThunkCreator = (count: number, currentPage: number) => async (dispatch: any) => {\r\n\r\n    let response = await usersAPI.getUsers(count, currentPage);\r\n\r\n    if (response.error === null) {\r\n        dispatch(setUsersActionCreator(response.items, true));\r\n        dispatch(setPageSizeActionCreator(count));\r\n        dispatch(setPagesCountActionCreator(Math.ceil(response.totalCount / count)));\r\n        dispatch(setCurrentPageActionCreator(currentPage));\r\n        dispatch(setIsFetchingActionCreator(false));\r\n    }\r\n}\r\n/** --------------------------------------------- */\r\n\r\n/** ----------Other helpfull functions---------- */\r\nconst toggleFollowUnfollow = async (dispatch: any, user_id: number, apiMethod: any, actionCreator: any) => {\r\n    dispatch(followingProgressActionCreator(user_id, true));\r\n\r\n    let response = await apiMethod(user_id);\r\n\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(user_id));\r\n        dispatch(followingProgressActionCreator(user_id, false));\r\n    }\r\n}\r\n/** ------------------------------------------- */\r\n\r\nexport default usersReducer;","import { PostType, NewsPageInitialStateType } from \"./types/types\";\r\nconst ADD_POST = 'message-me/newsPageReducer/ADD-POST';\r\nconst DELETE_POST = 'message-me/newsPageReducer/DELETE-POST';\r\n\r\nlet initialState: NewsPageInitialStateType = {\r\n    postsData: [\r\n        {\r\n            id: 1,\r\n            postText: \"Post 1 Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat ex temporibus quia autem ab perferendis odio sunt magni, amet accusamus modi recusandae reiciendis, quae molestiae officiis iste nam aspernatur eos\",\r\n            postPhoto: \"https://themified.com/friend-finder/images/post-images/1.jpg\",\r\n            authorAvatar: \"https://themified.com/friend-finder/images/users/user-5.jpg\",\r\n            authorName: \"Alexis Clark\",\r\n        },\r\n        {\r\n            id: 2,\r\n            postText: \"Post 2 Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat ex temporibus quia autem ab perferendis odio sunt magni, amet accusamus modi recusandae reiciendis, quae molestiae officiis iste nam aspernatur eos\",\r\n            postPhoto: \"https://themified.com/friend-finder/images/post-images/2.jpg\",\r\n            authorAvatar: \"https://themified.com/friend-finder/images/users/user-3.jpg\",\r\n            authorName: \"Linda Lohan\",\r\n        },\r\n        {\r\n            id: 3,\r\n            postText: \"Post 3 Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat ex temporibus quia autem ab perferendis odio sunt magni, amet accusamus modi recusandae reiciendis, quae molestiae officiis iste nam aspernatur eos\",\r\n            postPhoto: \"https://themified.com/friend-finder/images/post-images/11.jpg\",\r\n            authorAvatar: \"https://themified.com/friend-finder/images/users/user-4.jpg\",\r\n            authorName: \"John Doe\",\r\n        },\r\n    ] as Array<PostType>,\r\n    newPostText: 'Write what you wish',\r\n}\r\n\r\nconst newsReducer = (state = initialState, action:any):NewsPageInitialStateType => {\r\n    \r\n    let stateCopy: NewsPageInitialStateType;\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n\r\n            let newPost:PostType = {\r\n                id: 4,\r\n                postText: action.newPostText,\r\n                postPhoto: \"https://themified.com/friend-finder/images/post-images/11.jpg\",\r\n                authorAvatar: \"https://themified.com/friend-finder/images/users/user-4.jpg\",\r\n                authorName: \"My name\",\r\n            };\r\n\r\n            stateCopy = {\r\n                ...state,\r\n                newPostText: '',\r\n                postsData: [...state.postsData, newPost],\r\n            };\r\n\r\n            break;\r\n\r\n        }\r\n        case DELETE_POST: {\r\n            stateCopy = {\r\n                ...state,\r\n                postsData: state.postsData.filter( p => p.id !== action.post_id),\r\n            };\r\n\r\n            break;\r\n\r\n        }\r\n        default: {\r\n            stateCopy = {...state}\r\n            break;\r\n        }\r\n    }\r\n\r\n    return stateCopy;\r\n}\r\n\r\n/** -----Action types----- */\r\ntype AddPostActionType = {\r\n    type: typeof ADD_POST,\r\n    newPostText:string\r\n}\r\ntype DeletePostActionType = {\r\n    type: typeof DELETE_POST,\r\n    post_id:number\r\n}\r\n/** ---------------------- */\r\n\r\n/** -------Action creators------- */\r\nexport const addPostActionCreator = (newPostText:string):AddPostActionType => {\r\n    let action:AddPostActionType = {\r\n        type: ADD_POST,\r\n        newPostText: newPostText,\r\n    }\r\n    return action;\r\n}\r\n\r\nexport const deletePostActionCreator = (post_id:number):DeletePostActionType => {\r\n    let action:DeletePostActionType = {\r\n        type: DELETE_POST,\r\n        post_id: post_id,\r\n    }\r\n    return action;\r\n}\r\n/** ------------------------------ */\r\n\r\nexport default newsReducer;","const ADD_NEW_MESSAGE = 'messege-me/messagesPageReducer/ADD-NEW-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        {\r\n            id: 2,\r\n            name: 'Linda Lohan',\r\n            avatar: 'https://themified.com/friend-finder/images/users/user-2.jpg',\r\n            lastMessage: 'Hi there, how are you',\r\n        },\r\n        {\r\n            id: 10,\r\n            name: 'Julia Cox',\r\n            avatar: 'https://themified.com/friend-finder/images/users/user-10.jpg',\r\n            lastMessage: 'see you soon',\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Sophia Lee',\r\n            avatar: 'https://themified.com/friend-finder/images/users/user-3.jpg',\r\n            lastMessage: 'Hi there, how are you',\r\n        }\r\n    ],\r\n    activeDialogMessagesData: [\r\n        {\r\n            author: \"other\",\r\n            avatar: \"https://themified.com/friend-finder/images/users/user-2.jpg\",\r\n            message: \"Hi honey, how are you doing???? Long time no see. Where have you been?\",\r\n        },\r\n        {\r\n            author: \"me\",\r\n            avatar: \"https://invisionbyte.ru/test/uploads/monthly_2018_01/Wmug__uf.thumb.jpg.eca0349ccc67dd24370df4c7e452e924.jpg\",\r\n            message: \"I'm fine, thanks! What about you?\",\r\n        },\r\n    ],\r\n}\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n\r\n    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case ADD_NEW_MESSAGE: {\r\n\r\n            let newMessage = {\r\n                author: \"me\",\r\n                avatar: \"https://invisionbyte.ru/test/uploads/monthly_2018_01/Wmug__uf.thumb.jpg.eca0349ccc67dd24370df4c7e452e924.jpg\",\r\n                message: action.message,\r\n            };\r\n\r\n            stateCopy = { \r\n                ...state,\r\n                newMessageText: '',\r\n                activeDialogMessagesData: [...state.activeDialogMessagesData, newMessage],\r\n            };\r\n\r\n            break;\r\n        }\r\n        default: {\r\n            stateCopy = {...state}\r\n            break;\r\n        }\r\n    }\r\n\r\n    return stateCopy;\r\n}\r\n\r\nexport const addNewMessageCreator = (message) => {\r\n    let action = {\r\n        type: ADD_NEW_MESSAGE,\r\n        message: message,\r\n    }\r\n    return action;\r\n}\r\n\r\nexport default messagesReducer;\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.61bc6499.png\";","module.exports = __webpack_public_path__ + \"static/media/loader.d8e9df89.svg\";"],"sourceRoot":""}