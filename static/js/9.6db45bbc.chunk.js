(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[9],{304:function(e,t,r){e.exports={users:"Users_users__3dPZq",showMoreButton:"Users_showMoreButton__1sct3",pagination:"Users_pagination__1N5uH",paginationList:"Users_paginationList__Tv6v4",paginationListItem:"Users_paginationListItem__3CDQ3",paginationListItemCurrent:"Users_paginationListItemCurrent__1Si2G",hidden:"Users_hidden__2fz0T"}},305:function(e,t,r){e.exports={user:"User_user__1tioU",userImageBlock:"User_userImageBlock__IRS6b",userAvatar:"User_userAvatar__11VPE",userInfoBlock:"User_userInfoBlock__3W6Wz",userInfo:"User_userInfo__19k0B",userName:"User_userName__3NXZJ",status:"User_status__1uf80",followButtonBlock:"User_followButtonBlock__2H_ll",followButton:"User_followButton__2h1Fh",hidden:"User_hidden__2K4dx"}},316:function(e,t,r){"use strict";r.r(t);var n=r(17),a=r(18),s=r(20),o=r(19),i=r(0),u=r.n(i),l=r(12),c=r(14),p=r(74),f=r(304),g=r.n(f),h=r(11),m=r(305),d=r.n(m),w=r(52),v=r.n(w),_=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).createElement=u.a.createRef(),e.onFollowClick=function(){var t=e.createElement.current.value;e.props.followUser(t)},e.onUnfollowClick=function(){var t=e.createElement.current.value;e.props.unfollowUser(t)},e}return Object(a.a)(r,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:d.a.user},u.a.createElement("div",{className:d.a.userImageBlock},u.a.createElement(h.b,{to:"/user/"+this.props.id,userId:this.props.id},this.props.avatar?u.a.createElement("img",{src:this.props.avatar,alt:"",className:d.a.userAvatar}):u.a.createElement("img",{src:v.a,alt:"",className:d.a.userAvatar}))),u.a.createElement("div",{className:d.a.userInfoBlock},u.a.createElement("div",{className:d.a.userInfo},u.a.createElement("span",{className:d.a.userName},this.props.userName),this.props.avatar?u.a.createElement("span",{className:d.a.status},this.props.status):u.a.createElement("span",{className:d.a.status},"Some status")),u.a.createElement("div",{className:d.a.followButtonBlock},this.props.following?u.a.createElement("button",{value:this.props.id,onClick:this.onUnfollowClick,ref:this.createElement,className:d.a.followButton,disabled:this.props.followingInProgress.some((function(t){return parseInt(t)===parseInt(e.props.id)}))},"Unfollow"):u.a.createElement("button",{value:this.props.id,onClick:this.onFollowClick,ref:this.createElement,className:d.a.followButton,disabled:this.props.followingInProgress.some((function(t){return parseInt(t)===parseInt(e.props.id)}))},"Follow"))))}}]),r}(u.a.Component),I=r(75),U=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).follow=function(t){e.props.toggleFollow(t,!0)},e.unfollow=function(t){e.props.toggleFollow(t,!1)},e}return Object(a.a)(r,[{key:"render",value:function(){return u.a.createElement(_,{id:this.props.id,userName:this.props.userName,following:this.props.following,avatar:this.props.avatar,status:this.props.status,followUser:this.follow,unfollowUser:this.unfollow,followingInProgress:this.props.followingInProgress})}}]),r}(u.a.Component),E={toggleFollow:I.i},k=Object(l.b)((function(e,t){return{id:t.id,userName:t.userName,following:t.following,avatar:t.avatar,status:t.status,followingInProgress:t.followingInProgress}}),E)(U),N=function(e){var t=0,r=11;e.currentPage>6&&(t=e.currentPage-6,r=e.currentPage+5);var n=function(t){e.updateUsers(e.count,t)};return u.a.createElement("div",{className:g.a.users},e.usersData.map((function(t){return u.a.createElement(k,{id:t.id,userName:t.name,following:t.followed,avatar:t.photos.large,status:t.status,followingInProgress:e.followingInProgress})})),u.a.createElement("div",{className:g.a.pagination},u.a.createElement("ul",{className:g.a.paginationList},u.a.createElement("li",{className:g.a.paginationListItem+" "+(1===e.currentPage?g.a.hidden:""),onClick:function(){n(1)}},"\u22d8"),e.pages.slice(t,r).map((function(t){return u.a.createElement("li",{className:g.a.paginationListItem+" "+(e.currentPage===t?g.a.paginationListItemCurrent:""),onClick:function(){n(t)}},t)})),u.a.createElement("li",{className:g.a.paginationListItem+" "+(e.currentPage===e.pages.length?g.a.hidden:""),onClick:function(){n(e.pages.length)}},"\u22d9"))),e.currentPage!==e.pages.length?u.a.createElement("button",{className:g.a.showMoreButton,onClick:e.onShowMoreClick},"Show more"):"")};function P(e,t){return e===t}function b(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,a=0;a<n;a++)if(!e(t[a],r[a]))return!1;return!0}function C(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var r=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}var y=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=0,o=n.pop(),i=C(n),u=e.apply(void 0,[function(){return s++,o.apply(null,arguments)}].concat(r)),l=e((function(){for(var e=[],t=i.length,r=0;r<t;r++)e.push(i[r].apply(null,arguments));return u.apply(null,e)}));return l.resultFunc=o,l.dependencies=i,l.recomputations=function(){return s},l.resetRecomputations=function(){return s=0},l}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P,r=null,n=null;return function(){return b(t,r,arguments)||(n=e.apply(null,arguments)),r=arguments,n}}));var B=y((function(e){return e.usersReducer.usersData}),(function(e){return e.filter((function(e){return!0}))})),S=function(e){return e.usersReducer.totalUsers},j=function(e){return e.usersReducer.pageSize},O=function(e){return e.usersReducer.pagesCount},F=function(e){return e.usersReducer.pages},L=function(e){return e.usersReducer.currentPage},R=function(e){return e.usersReducer.isFetching},z=function(e){return e.usersReducer.followingInProgress},A=r(34),M=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).onShowMoreClick=function(){var e=a.props.pageSize,t=a.props.currentPage+1;a.props.showMore(e,t)},a.updateUsers=function(e,t){a.props.getUsers(e,t)},a.count=a.props.pageSize,a}return Object(a.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.pageSize,t=this.props.currentPage;0===this.props.usersData.length&&this.updateUsers(e,t)}},{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,this.props.isFetching?u.a.createElement(A.a,null):u.a.createElement(N,{updateUsers:this.updateUsers,onShowMoreClick:this.onShowMoreClick,count:this.count,pageSize:this.props.pageSize,currentPage:this.props.currentPage,usersData:this.props.usersData,pages:this.props.pages,followingInProgress:this.props.followingInProgress}))}}]),r}(u.a.Component),D={showMore:I.h,setTotalUsersCount:I.g,setPageSize:I.e,setPagesCount:I.f,setCurrentPage:I.c,setIsFetching:I.d,getUsers:I.b};t.default=Object(c.d)(Object(l.b)((function(e){return{usersData:B(e),totalUsers:S(e),pageSize:j(e),pagesCount:O(e),currentPage:L(e),pages:F(e),isFetching:R(e),followingInProgress:z(e)}}),D),p.a)(M)}}]);
//# sourceMappingURL=9.6db45bbc.chunk.js.map