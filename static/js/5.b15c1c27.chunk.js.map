{"version":3,"sources":["components/common/FormControls/FormControls.module.css","utils/validators/validators.js","components/common/FormControls/FormControls.jsx","components/News/News.module.css","components/News/Post/Post.module.css","components/News/NewPost/NewPost.module.css","redux/selectors/newsSelector.js","components/News/Post/Post.jsx","components/News/NewPost/NewPost.jsx","components/News/NewPost/NewPostContainer.jsx","components/News/News.jsx","components/News/NewsContainer.jsx"],"names":["module","exports","required","value","undefined","maxLength","max","length","maxLength3000","email","test","FromControl","input","meta","props","hasError","checkSubmit","touched","error","submitFailed","side","style","right","left","errorSignSide","rightSignError","leftSignError","className","formControl","wrapperClassName","children","classnames","errorMessageBlock","errorMessage","Textarea","restProps","inputClassName","Input","getNews","state","newsReducer","postsData","Post","item","src","postPhoto","alt","postDesc","author","authorAvatar","avatar","authorDesc","authorDesc__left","userName","authorName","published","authorDesc__right","like","text","postText","NewPostFromRedux","reduxForm","form","onSubmit","handleSubmit","newpost","newpostTextareaBlock","Field","newpostTextarea","newpostTextareaWrapper","component","name","validate","placeholder","newpost_button","NewPost","profile_block_newpost","formData","addNewPost","newPostText","actionCreators","addPostActionCreator","NewPostContainer","connect","News","React","memo","posts","map","post","key","id","newPostBlock","news","NewsContainer"],"mappings":"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","file":"static/js/5.b15c1c27.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__20Vm3\",\"error\":\"FormControls_error__PGvtL\",\"errorMessageBlock\":\"FormControls_errorMessageBlock__6UYSD\",\"rightSignError\":\"FormControls_rightSignError__1ozix\",\"leftSignError\":\"FormControls_leftSignError__3LVnT\",\"right\":\"FormControls_right__24pmc\",\"left\":\"FormControls_left__22KrQ\",\"errorMessage\":\"FormControls_errorMessage__1dqQA\",\"summaryFormError\":\"FormControls_summaryFormError__2Y5V-\"};","export const required = (value) => {\r\n    let check = value ? undefined : 'Field is required';\r\n    return check;\r\n}\r\n\r\nconst maxLength = max => value => value && value.length > max ? `Must be ${max} characters or less` : undefined;\r\nexport const maxLength10 = maxLength(10);\r\nexport const maxLength300 = maxLength(300);\r\nexport const maxLength3000 = maxLength(3000);\r\n\r\nexport const email = value => value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value) ? 'Invalid email address' : undefined;","import React from 'react';\r\nimport style from './FormControls.module.css';\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * \r\n * Сделать нормальные отображения ошибок!!!\r\n * \r\n */\r\n/** используется деструктуризация (rest оператор) */\r\nconst FromControl = ({\r\n    input, \r\n    meta,\r\n    ...props\r\n}) => {\r\n    const hasError = props.checkSubmit ? meta.touched && meta.error && meta.submitFailed : meta.touched && meta.error;\r\n    const side = (props.side && props.side === 'right') ? style.right : style.left;\r\n    const errorSignSide = (props.errorSignSide && props.errorSignSide === 'right') ? style.rightSignError : style.leftSignError;\r\n\r\n    return (\r\n        <div className={\r\n            style.formControl + ' ' \r\n            + errorSignSide + ' ' \r\n            + props.wrapperClassName + ' '\r\n            + (hasError ? style.error : '')\r\n        }>\r\n            {props.children}\r\n            {\r\n                ( hasError ) ?\r\n                    <div className={classnames(style.errorMessageBlock, side)}>\r\n                        <span className={style.errorMessage}>\r\n                            {meta.error}\r\n                        </span>\r\n                    </div> \r\n                : ''\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    const inputClassName = props.inputClassName ? props.inputClassName : '';\r\n    const wrapperClassName = props.wrapperClassName ? props.wrapperClassName : '';\r\n\r\n    return <FromControl \r\n        {...props} \r\n        side={props.side} \r\n        errorSignSide={props.errorSignSide} \r\n        wrapperClassName={wrapperClassName}\r\n    > \r\n        <textarea {...input} {...restProps} className={inputClassName}/> \r\n    </FromControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    const inputClassName = props.inputClassName ? props.inputClassName : '';\r\n    const wrapperClassName = props.wrapperClassName ? props.wrapperClassName : '';\r\n\r\n    return <FromControl \r\n        {...props} \r\n        side={props.side} \r\n        errorSignSide={props.errorSignSide} \r\n        wrapperClassName={wrapperClassName}\r\n    > \r\n        <input {...input} {...restProps} className={inputClassName}/> \r\n    </FromControl>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__1rcBp\",\"newPostBlock\":\"News_newPostBlock__3xxRH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1eZAQ\",\"postDesc\":\"Post_postDesc__2ngZY\",\"author\":\"Post_author__vvWhZ\",\"authorDesc\":\"Post_authorDesc__1Aw_i\",\"authorDesc__left\":\"Post_authorDesc__left__2DRew\",\"published\":\"Post_published__2fcK6\",\"userName\":\"Post_userName__1zo7v\",\"avatar\":\"Post_avatar__2yDUw\",\"text\":\"Post_text__2uoNa\",\"like\":\"Post_like__2-j3s\",\"postPhoto\":\"Post_postPhoto__1Kuv6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newpost\":\"NewPost_newpost__22_Eo\",\"newpostTextareaBlock\":\"NewPost_newpostTextareaBlock__2QNQy\",\"newpostTextareaWrapper\":\"NewPost_newpostTextareaWrapper__27pvU\",\"newpostTextarea\":\"NewPost_newpostTextarea__pg0Ni\",\"newpost_button\":\"NewPost_newpost_button__CA1NR\"};","export const getNews = (state) => {\r\n    return state.newsReducer.postsData;\r\n}","import React from \"react\";\r\nimport style from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={style.item}>\r\n      <img src={props.postPhoto} alt=\"\" className={style.postPhoto}/>\r\n      <div className={style.postDesc}>\r\n        <div className={style.author}>\r\n          <img src={props.authorAvatar} alt=\"\" className={style.avatar}/>\r\n          <div className={style.authorDesc}>\r\n            <div className={style.authorDesc__left}>\r\n              <span className={style.userName}>{props.authorName}</span>\r\n              <span className={style.published}>Published a photo about 3 mins ago</span>\r\n            </div>\r\n            <div className={style.authorDesc__right}>\r\n              <span className={style.like}>Like</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={style.text}>\r\n          <p>{ props.postText }</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Post;","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport style from \"./NewPost.module.css\";\r\nimport {required, maxLength3000} from '../../../utils/validators/validators';\r\nimport {Textarea} from '../../common/FormControls/FormControls';\r\n\r\n\r\nlet NewPost = (props) => {\r\n    let onAddPost = (formData) => {\r\n        props.addNewPost(formData.newPostText);\r\n    };\r\n\r\n    return (\r\n        <div className={style.profile_block_newpost}>\r\n            <NewPostFromRedux onSubmit={onAddPost} />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewPostFrom = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={style.newpost}>\r\n            <div className={style.newpostTextareaBlock}>\r\n                <Field\r\n                    inputClassName={style.newpostTextarea}\r\n                    wrapperClassName={style.newpostTextareaWrapper}\r\n                    component={Textarea}\r\n                    name=\"newPostText\"\r\n                    validate={[required, maxLength3000]}\r\n                    placeholder=\"Post message\"\r\n                    errorSignSide='right'\r\n                    checkSubmit={true}\r\n                />\r\n            </div>\r\n            <button className={style.newpost_button}>\r\n                Publish\r\n            </button>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst NewPostFromRedux = reduxForm({\r\n    form: 'newPostForm',\r\n})(NewPostFrom);\r\n\r\nexport default NewPost;\r\n","import { connect } from \"react-redux\";\r\nimport NewPost from \"./NewPost\"\r\nimport {addPostActionCreator} from '../../../redux/newsPageReducer'\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nlet actionCreators = {\r\n    addNewPost: addPostActionCreator,\r\n}\r\n\r\nconst NewPostContainer = connect(mapStateToProps, actionCreators)(NewPost);\r\n\r\nexport default NewPostContainer;\r\n","import React from \"react\";\r\nimport style from \"./News.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport NewPostContainer from './NewPost/NewPostContainer';\r\n\r\n/** React memo делает оптимизацию по типу shoudComponentUpdate или PureComponent */\r\nconst News = React.memo(props => {\r\n\r\n    let posts = props.postsData.map( post => \r\n            <Post\r\n                postText={post.postText}\r\n                postPhoto={post.postPhoto}\r\n                authorAvatar={post.authorAvatar}\r\n                authorName={post.authorName}\r\n                key={post.id}\r\n            />\r\n        );\r\n    \r\n    return (\r\n        <div>\r\n            <div className={style.newPostBlock}>\r\n                <NewPostContainer />\r\n            </div>\r\n            <div className={style.news}>\r\n                {posts}\r\n            </div>\r\n        </div>\r\n    );\r\n    \r\n});\r\nexport default News;\r\n","import { connect } from \"react-redux\";\r\nimport { getNews } from \"../../redux/selectors/newsSelector\";\r\nimport News from \"./News\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        postsData: getNews(state),\r\n    }\r\n}\r\nlet actionCreators = {}\r\n\r\nconst NewsContainer = connect(mapStateToProps, actionCreators)(News);\r\n\r\nexport default NewsContainer;\r\n"],"sourceRoot":""}