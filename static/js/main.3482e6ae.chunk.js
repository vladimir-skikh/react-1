(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[1],{147:function(e,t,a){e.exports=a(237)},152:function(e,t,a){},153:function(e,t,a){},237:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),s=a(51),u=a.n(s),o=(a(152),a(19)),i=a(20),c=a(22),l=a(21),f=(a(153),a(12)),m=a(76),d=a(77),p=a(2),h={followData:[{id:1,name:"Diana Amber",avatar:"https://themified.com/friend-finder/images/users/user-11.jpg"},{id:2,name:"Cris Haris",avatar:"https://themified.com/friend-finder/images/users/user-12.jpg"},{id:3,name:"Brian Walton",avatar:"https://themified.com/friend-finder/images/users/user-13.jpg"}]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=Object(p.a)({},e);return t},g=a(74),v=a(26),E=a(35),O={initialized:!1},j=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET-INITIALIZED":e=Object(p.a)(Object(p.a)({},t),{},{initialized:!0});break;default:e=Object(p.a)({},t)}return e},_=a(93),y=a(91),N=Object(f.c)({appReducer:j,newsReducer:m.b,messagesReducer:d.b,followReducer:b,usersReducer:g.a,userProfileReducer:v.a,authReducer:E.b,form:y.a}),P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.d,w=Object(f.e)(N,P(Object(f.a)(_.a))),I=a(10),S=a(15),k=a(30),T=a.n(k),U=a(96),A=a.n(U),C=function(e){var t=function(){e.onLogout()};return r.a.createElement("header",{className:T.a.header},r.a.createElement("div",{className:T.a.headerLogoBlock},r.a.createElement("img",{src:A.a,alt:"Logo"}),r.a.createElement("h1",{className:T.a.title},"MessageMe")),r.a.createElement("div",{className:T.a.loginBlock},e.isAuth?r.a.createElement("button",{className:T.a.logoutButton,onClick:t},"Logout"):r.a.createElement(S.b,{to:"/login"},r.a.createElement("button",{className:T.a.loginButton,onClick:t},"Login"))))},D=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onLogout=function(){e.props.unsetUser()},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(C,Object.assign({},this.props,{userId:this.props.userId,onLogout:this.onLogout}))}}]),a}(r.a.Component),L={unsetUser:E.d},R=Object(I.b)((function(e){return{isAuth:e.authReducer.isAuth,userData:e.authReducer.userData}}),L)(D),M=a(9),x=a.n(M),B=function(){return r.a.createElement("nav",{className:x.a.nav},r.a.createElement("h4",{className:x.a.title},"Menu"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(S.b,{activeClassName:x.a.active,to:"/profile",className:x.a.item},"My Profile")),r.a.createElement("li",null,r.a.createElement(S.b,{className:x.a.item,to:"/messages",activeClassName:x.a.active},"Messages")),r.a.createElement("li",null,r.a.createElement(S.b,{className:x.a.item,to:"/news",activeClassName:x.a.active},"News")),r.a.createElement("li",null,r.a.createElement(S.b,{className:x.a.item,to:"/music",activeClassName:x.a.active},"Music")),r.a.createElement("li",null,r.a.createElement(S.b,{to:"/settings",className:x.a.item,activeClassName:x.a.active},"Settings")),r.a.createElement("li",null,r.a.createElement(S.b,{to:"/users",className:x.a.item,activeClassName:x.a.active},"Users"))))},F=a(4),z=a.n(F),W=a(72),G=a.n(W),H=a(39),q=a(64),Q=a(42),Z=a.n(Q),J=function(e){var t=Object(n.useState)(!1),a=Object(q.a)(t,2),s=a[0],u=a[1],o=Object(n.useState)(e.status),i=Object(q.a)(o,2),c=i[0],l=i[1];Object(n.useEffect)((function(){l(e.status)}),[e.status]);var f=function(){u(!0)};return r.a.createElement("div",{className:Z.a.statusBlock},r.a.createElement("h3",{className:Z.a.userInfoTitle+" "+Z.a.statusTitle},"Status"),s?r.a.createElement("div",null,r.a.createElement("input",{type:"text",autoFocus:!0,value:c,onBlur:function(){e.updateStatus(c),u(!1)},onChange:function(e){var t=e.currentTarget.value;l(t)}})):r.a.createElement("span",{className:Z.a.statusText,onDoubleClick:f,onTouchStart:f},""!==e.status&&void 0!==e.status?e.status:"No status"))},V={updateStatus:v.e},K=Object(f.d)(Object(I.b)((function(e){return{status:Object(H.c)(e)}}),V))(J),X=a(66),Y=a.n(X),$=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).templateAbout="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi tempus libero vel massa vulputate congue. Aenean commodo sem vitae dolor varius, in cursus est semper. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Maecenas nulla augue, pretium in metus eu, gravida auctor quam. Donec et sem metus. Nulla sit amet eros sem. Sed vel lacinia est, id laoreet erat.",e.onAvatarChange=function(t){t.target.files.length&&e.props.uploadPhoto(t.target.files[0])},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:z.a.user},r.a.createElement("div",{className:z.a.userImageBlock},this.props.profile.photos.large?r.a.createElement("img",{src:this.props.profile.photos.large,alt:"",className:z.a.userImage}):r.a.createElement("img",{src:G.a,alt:"",className:z.a.userImage})),r.a.createElement("div",{className:z.a.userInfoBlock},r.a.createElement("div",{className:Y()(z.a.userInfoBlockItem,z.a.userFullnameBlock)},r.a.createElement("h3",{className:z.a.userInfoTitle+" "+z.a.userFullnameTitle},"Fullname"),r.a.createElement("span",{className:z.a.userFullname},this.props.profile.fullName),r.a.createElement(K,{userId:this.props.profile.userId})),r.a.createElement("div",{className:z.a.userInfoBlockItem+" "+z.a.userContactsBlock},r.a.createElement("h3",{className:z.a.userInfoTitle+" "+z.a.userFullnameTitle},"Contacts"),r.a.createElement("ul",{className:z.a.userContactsList},Object.keys(this.props.profile.contacts).map((function(t){if(null!==e.props.profile.contacts[t])return r.a.createElement("li",{className:z.a.userContactsListItem+" "+t},r.a.createElement("a",{href:e.props.profile.contacts[t],className:z.a.userContactslink},t))}))),r.a.createElement("span",{className:z.a.userContactsUnavailable},"User has no available contatcs")),r.a.createElement("div",{className:z.a.userInfoBlockItem},r.a.createElement("h3",{className:z.a.userInfoTitle},"Avatar"),r.a.createElement("input",{type:"file",onChange:this.onAvatarChange}))),r.a.createElement("div",{className:z.a.userAboutBlock},r.a.createElement("p",{className:z.a.userAbout},this.props.profile.aboutMe?this.props.profile.aboutMe:this.templateAbout)))}}]),a}(r.a.Component),ee=a(73),te=a(34),ae=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).uploadPhoto=function(t){e.props.uploadPhoto(t)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.initProfile(this.props.id)}},{key:"componentWillUnmount",value:function(){this.props.unsetUserProfile()}},{key:"render",value:function(){return this.props.init?r.a.createElement($,Object.assign({},this.props,{profile:this.props.profile,uploadPhoto:this.uploadPhoto})):r.a.createElement(te.a,null)}}]),a}(r.a.Component),ne={unsetUserProfile:v.d,initProfile:v.b,uploadPhoto:v.f},re=Object(f.d)(ee.a,Object(I.b)((function(e){return{id:Object(H.a)(e),profile:Object(H.b)(e),init:e.userProfileReducer.init}}),ne))(ae),se=function(e){return e.followReducer.followData},ue=a(98),oe=a.n(ue),ie=a(43),ce=a.n(ie),le=function(e){return r.a.createElement("div",{className:ce.a.user},r.a.createElement("img",{src:e.avatar,alt:""}),r.a.createElement("div",{className:ce.a.userDesc},r.a.createElement("span",{className:ce.a.userName},e.name),r.a.createElement("span",{className:ce.a.addUser},"Add friend")))},fe=function(e){var t=e.followData.map((function(e){return r.a.createElement(le,{name:e.name,avatar:e.avatar,key:e.id})}));return r.a.createElement("div",{className:oe.a.follow},r.a.createElement("h4",null,"Who to Follow"),t)},me=Object(I.b)((function(e){return{followData:se(e)}}),(function(e){return{}}))(fe),de=a(5),pe=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(te.a,null)},r.a.createElement(e,t))}},he=r.a.lazy((function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,314))})),be=r.a.lazy((function(){return a.e(9).then(a.bind(null,315))})),ge=r.a.lazy((function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,313))})),ve=r.a.lazy((function(){return a.e(8).then(a.bind(null,316))})),Ee=r.a.lazy((function(){return Promise.all([a.e(0),a.e(6)]).then(a.bind(null,318))})),Oe=r.a.lazy((function(){return Promise.all([a.e(0),a.e(7)]).then(a.bind(null,317))})),je=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).catchAllUnhandledErrors=function(e){alert(e.reason)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.isInitialized?r.a.createElement("div",null,r.a.createElement("div",{className:"header-background"},r.a.createElement("div",{className:"wrapper wrapper-header"},r.a.createElement(R,null))),r.a.createElement("div",{className:"wrapper wrapper-content"},r.a.createElement("aside",{className:"sidebar"},r.a.createElement(B,null),r.a.createElement(me,null)),r.a.createElement("div",{className:"content"},r.a.createElement(de.d,null,r.a.createElement(de.a,{exact:!0,from:"/",to:"/profile"}),r.a.createElement(de.b,{path:"/news",render:pe(he)}),r.a.createElement(de.b,{path:"/settings",render:pe(Oe)}),r.a.createElement(de.b,{path:"/messages",render:pe(ge)}),r.a.createElement(de.b,{path:"/users",render:pe(be)}),r.a.createElement(de.b,{path:"/user/:userId",render:pe(ve)}),r.a.createElement(de.b,{path:"/profile",render:function(){return r.a.createElement(re,null)}}),r.a.createElement(de.b,{path:"/login",render:pe(Ee)}),r.a.createElement(de.b,{path:"*",render:function(){return r.a.createElement("div",null,"404 NOT FOUND")}}))))):r.a.createElement(te.a,null)}}]),a}(n.Component),_e={initializeApp:function(){return function(e){var t=e(Object(E.a)());Promise.all([t]).then((function(){e({type:"SET-INITIALIZED"})}))}}},ye=Object(f.d)(de.g,Object(I.b)((function(e){return{isInitialized:e.appReducer.initialized}}),_e))(je),Ne=function(e){return r.a.createElement(I.a,{store:w},r.a.createElement(S.a,null,r.a.createElement(ye,{store:w})))};u.a.render(r.a.createElement(Ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},26:function(e,t,a){"use strict";a.d(t,"d",(function(){return b})),a.d(t,"e",(function(){return E})),a.d(t,"f",(function(){return O})),a.d(t,"c",(function(){return j})),a.d(t,"b",(function(){return _}));var n=a(53),r=a(6),s=a.n(r),u=a(16),o=a(2),i=a(8),c=a(31),l="message-me/userProfile/SET-USER-PROFILE",f="message-me/userProfile/UNSET-USER-PROFILE",m="message-me/userProfile/SET-USER-STATUS",d="message-me/userProfile/SET-INIT-PROFILE",p="message-me/userProfile/SET-PHOTOS",h={userProfile:null,userStatus:"",init:!1},b=function(){return{type:f}},g=function(e){return{type:m,status:e}},v=function(e){return function(){var t=Object(u.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.setUserInfoById(e);case 2:n=t.sent,a({type:l,userProfile:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(u.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.updateStatus(e);case 2:0===(n=t.sent).resultCode?a(g(e)):Promise.reject(n.messages[0]);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(u.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.uploadPhoto(e);case 2:0===(n=t.sent).resultCode&&a((r=n.data.photos,{type:p,photos:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(u.a)(s.a.mark((function t(a,r){var u,o,l,f,m,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=r().authReducer.userData.id,t.next=3,i.c.saveProfileData(e);case 3:0===(o=t.sent).resultCode?a(v(u)):(l=o.messages.length>0?o.messages[0]:"Invalid form data",f=l.indexOf("Contacts->"),m={},-1!==f?(d=l.substring(f+10,l.length-1).toLowerCase(),m=Object(c.a)("myprofileSettings",{contacts:Object(n.a)({},d,l)})):m=Object(c.a)("myprofileSettings",{_error:l}),a(m));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},_=function(e){return function(t){var a=t(v(e)),n=t(function(e){return function(){var t=Object(u.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.getStatus(e);case 2:n=t.sent,a(g(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e));Promise.all([a,n]).then((function(){t({type:d})}))}};t.a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case d:e=Object(o.a)(Object(o.a)({},t),{},{userProfile:Object(o.a)({},t.userProfile),init:!0});break;case l:e=Object(o.a)(Object(o.a)({},t),{},{userProfile:Object(o.a)({},a.userProfile)});break;case f:e=Object(o.a)(Object(o.a)({},t),{},{userProfile:null,userStatus:"",init:!1});break;case m:e=Object(o.a)(Object(o.a)({},t),{},{userStatus:a.status});break;case p:e=Object(o.a)(Object(o.a)({},t),{},{userProfile:Object(o.a)(Object(o.a)({},t.userProfile),{},{photos:a.photos})});break;default:e=Object(o.a)({},t)}return e}},30:function(e,t,a){e.exports={header:"Header_header__17mBi",title:"Header_title__2egTu",headerLogoBlock:"Header_headerLogoBlock__34PFJ",logoutButton:"Header_logoutButton__2O5Cs",loginButton:"Header_loginButton__1Tup7"}},34:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(63),u=a.n(s),o=a(97),i=a.n(o);t.a=function(){return r.a.createElement("div",{className:u.a.preloader},r.a.createElement("img",{src:i.a,alt:"Loading...",className:u.a.preloaderImage}))}},35:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"d",(function(){return g})),a.d(t,"c",(function(){return v}));var n=a(6),r=a.n(n),s=a(16),u=a(2),o=a(31),i=a(8),c="messageme/authReducer/SET-USER-DATA",l="messageme/authReducer/UNSET-USER-DATA",f="messageme/authReducer/TOGLE-IS-AUTH",m="messageme/authReducer/SET-CAPTCHA-URL",d={userData:{id:null,email:null,login:null,captchaUrl:null},isAuth:!1},p=function(e){return{type:c,payload:e}},h=function(e){return{type:f,isAuth:e}},b=function(){return function(e){return i.a.me().then((function(t){0===t.resultCode&&(e(p(t.data)),e(h(!0)))}))}},g=function(){return function(e){i.a.logout().then((function(t){if(0===t.resultCode){e(function(e){return{type:l,payload:e}}({id:null,email:null,login:null})),e(h(!1))}}))}},v=function(e){return function(t){i.a.login(e).then((function(e){if(0===e.resultCode){var a={id:e.data.userId,email:null,login:null};t(p(a)),t(h(!0))}else{10===e.resultCode&&t(function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.d.getCaptchaUrl();case 2:a=e.sent,n=a.url,t({type:m,url:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var n=e.messages.length>0?e.messages[0]:"Email or password is incorrect",u=Object(o.a)("login",{_error:n});t(u)}}))}};t.b=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c:case l:e=Object(u.a)(Object(u.a)({},t),{},{userData:Object(u.a)({},a.payload)});break;case f:e=Object(u.a)(Object(u.a)({},t),{},{isAuth:a.isAuth});break;case m:e=Object(u.a)(Object(u.a)({},t),{},{captchaUrl:a.url});break;default:e=Object(u.a)({},t)}return e}},39:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s}));var n=function(e){return e.authReducer.userData.id},r=function(e){return e.userProfileReducer.userProfile},s=function(e){return e.userProfileReducer.userStatus}},4:function(e,t,a){e.exports={user:"MyProfile_user__M8ATN",userImageBlock:"MyProfile_userImageBlock__2VRAV",userImage:"MyProfile_userImage__36zO5",userInfoBlock:"MyProfile_userInfoBlock__12OIo",userInfoBlockItem:"MyProfile_userInfoBlockItem__c4dbA",userFullnameBlock:"MyProfile_userFullnameBlock__i0z10",userFullname:"MyProfile_userFullname__3MUOQ",userFullnameTitle:"MyProfile_userFullnameTitle__3-95p",userInfoTitle:"MyProfile_userInfoTitle__1-8Nb",userAboutBlock:"MyProfile_userAboutBlock__1mnQ-",userAbout:"MyProfile_userAbout__6rG1c",userContactsUnavailable:"MyProfile_userContactsUnavailable__3OtSM"}},42:function(e,t,a){e.exports={statusBlock:"MyProfileStatus_statusBlock__wgbWg",statusText:"MyProfileStatus_statusText__v4j7d",userInfoTitle:"MyProfileStatus_userInfoTitle__6edsK"}},43:function(e,t,a){e.exports={user:"User_user__3zQMh",userName:"User_userName__1w6dL",addUser:"User_addUser__sZHNF",userDesc:"User_userDesc__3u-6N"}},63:function(e,t,a){e.exports={paginationListItemCurrent:"Preloader_paginationListItemCurrent__2MvIc",preloader:"Preloader_preloader__3x4U7"}},72:function(e,t,a){e.exports=a.p+"static/media/undefinedUser.d961d73a.png"},73:function(e,t,a){"use strict";var n=a(19),r=a(20),s=a(22),u=a(21),o=a(0),i=a.n(o),c=a(10),l=a(5);t.a=function(e){var t=function(t){Object(s.a)(o,t);var a=Object(u.a)(o);function o(){return Object(n.a)(this,o),a.apply(this,arguments)}return Object(r.a)(o,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,Object.assign({},this.props,{isAuth:this.props.isAuth,userData:this.props.userData})):i.a.createElement(l.a,{to:"/login"})}}]),o}(i.a.Component);return Object(c.b)((function(e){return{isAuth:e.authReducer.isAuth,userData:e.authReducer.userData}}),{})(t)}},74:function(e,t,a){"use strict";a.d(t,"g",(function(){return h})),a.d(t,"e",(function(){return b})),a.d(t,"f",(function(){return g})),a.d(t,"c",(function(){return v})),a.d(t,"d",(function(){return E})),a.d(t,"b",(function(){return O})),a.d(t,"i",(function(){return j})),a.d(t,"h",(function(){return _}));var n=a(6),r=a.n(n),s=a(16),u=a(24),o=a(2),i=a(8),c=function(e,t,a,n){return e.map((function(e){return e[a]===parseInt(t)?Object(o.a)(Object(o.a)({},e),n):e}))},l={usersData:[],pageSize:10,totalUsers:0,pagesCount:0,pages:[1],currentPage:1,isFetching:!0,followingInProgress:[]},f=function(e){return{type:"FOLLOW-USER",user_id:e}},m=function(e){return{type:"UNFOLLOW-USER",user_id:e}},d=function(e,t){return{type:"FOLLOWING-IN-PROGRESS",progress:t,user_id:e}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={type:"SET-USERS",users:e,showMore:t};return a},h=function(e){return{type:"SET-USERS-COUNT",count:e}},b=function(e){return{type:"SET-PAGE-SIZE",size:e}},g=function(e){return{type:"SET-PAGES-COUNT",count:e}},v=function(e){return{type:"CHANGE-CURRENT-PAGE",pageNum:e}},E=function(e){return{type:"IS-FETCHING",isFetching:e}},O=function(e,t){return function(a){a(E(!0)),i.b.getUsers(e,t).then((function(n){a(p(n.items)),a(b(e)),a(g(Math.ceil(n.totalCount/e))),a(v(t)),a(E(!1))}))}},j=function(e,t){return t?function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y(a,e,i.b.followUserById.bind(i.b),f);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}():function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y(a,e,i.b.unfollowUserById.bind(i.b),m);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e,t){return function(a){return i.b.getUsers(e,t).then((function(n){a(p(n.items,!0)),a(b(e)),a(g(Math.ceil(n.totalCount/e))),a(v(t)),a(E(!1))}))}},y=function(){var e=Object(s.a)(r.a.mark((function e(t,a,n,s){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(d(a,!0)),e.next=3,n(a);case 3:0===e.sent.resultCode&&(t(s(a)),t(d(a,!1)));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}();t.a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET-USERS":e=a.showMore?Object(o.a)(Object(o.a)({},t),{},{usersData:[].concat(Object(u.a)(t.usersData),Object(u.a)(a.users))}):Object(o.a)(Object(o.a)({},t),{},{usersData:Object(u.a)(a.users)});break;case"SET-USERS-COUNT":e=Object(o.a)(Object(o.a)({},t),{},{totalUsers:a.count});break;case"SET-PAGE-SIZE":e=Object(o.a)(Object(o.a)({},t),{},{pageSize:a.size});break;case"SET-PAGES-COUNT":e=Object(o.a)(Object(o.a)({},t),{},{pagesCount:a.count,pages:[]});for(var n=1;n<=a.count;n++)e.pages.push(n);break;case"CHANGE-CURRENT-PAGE":e=Object(o.a)(Object(o.a)({},t),{},{currentPage:a.pageNum});break;case"IS-FETCHING":e=Object(o.a)(Object(o.a)({},t),{},{isFetching:a.isFetching});break;case"FOLLOW-USER":e=Object(o.a)(Object(o.a)({},t),{},{usersData:c(t.usersData,a.user_id,"id",{followed:!0})});break;case"UNFOLLOW-USER":e=Object(o.a)(Object(o.a)({},t),{},{usersData:c(t.usersData,a.user_id,"id",{followed:!1})});break;case"FOLLOWING-IN-PROGRESS":e=Object(o.a)(Object(o.a)({},t),{},{followingInProgress:a.progress?[].concat(Object(u.a)(t.followingInProgress),[a.user_id]):t.followingInProgress.filter((function(e){return e!==a.user_id}))});break;default:e=Object(o.a)({},t)}return e}},76:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(24),r=a(2),s={postsData:[{id:1,postText:"Post 1 Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat ex temporibus quia autem ab perferendis odio sunt magni, amet accusamus modi recusandae reiciendis, quae molestiae officiis iste nam aspernatur eos",postPhoto:"https://themified.com/friend-finder/images/post-images/1.jpg",authorAvatar:"https://themified.com/friend-finder/images/users/user-5.jpg",authorName:"Alexis Clark"},{id:2,postText:"Post 2 Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat ex temporibus quia autem ab perferendis odio sunt magni, amet accusamus modi recusandae reiciendis, quae molestiae officiis iste nam aspernatur eos",postPhoto:"https://themified.com/friend-finder/images/post-images/2.jpg",authorAvatar:"https://themified.com/friend-finder/images/users/user-3.jpg",authorName:"Linda Lohan"},{id:3,postText:"Post 3 Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat ex temporibus quia autem ab perferendis odio sunt magni, amet accusamus modi recusandae reiciendis, quae molestiae officiis iste nam aspernatur eos",postPhoto:"https://themified.com/friend-finder/images/post-images/11.jpg",authorAvatar:"https://themified.com/friend-finder/images/users/user-4.jpg",authorName:"John Doe"}],newPostText:"Write what you wish"},u=function(e){return{type:"ADD-POST",newPostText:e}};t.b=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD-POST":var u={id:4,postText:a.newPostText,postPhoto:"https://themified.com/friend-finder/images/post-images/11.jpg",authorAvatar:"https://themified.com/friend-finder/images/users/user-4.jpg",authorName:"My name"};e=Object(r.a)(Object(r.a)({},t),{},{newPostText:"",postsData:[].concat(Object(n.a)(t.postsData),[u])});break;case"DELETE-POST":e=Object(r.a)(Object(r.a)({},t),{},{postsData:t.postsData.filter((function(e){return e.id!==a.post_id}))});break;default:e=Object(r.a)({},t)}return e}},77:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(24),r=a(2),s={dialogsData:[{id:2,name:"Linda Lohan",avatar:"https://themified.com/friend-finder/images/users/user-2.jpg",lastMessage:"Hi there, how are you"},{id:10,name:"Julia Cox",avatar:"https://themified.com/friend-finder/images/users/user-10.jpg",lastMessage:"see you soon"},{id:3,name:"Sophia Lee",avatar:"https://themified.com/friend-finder/images/users/user-3.jpg",lastMessage:"Hi there, how are you"}],activeDialogMessagesData:[{author:"other",avatar:"https://themified.com/friend-finder/images/users/user-2.jpg",message:"Hi honey, how are you doing???? Long time no see. Where have you been?"},{author:"me",avatar:"https://invisionbyte.ru/test/uploads/monthly_2018_01/Wmug__uf.thumb.jpg.eca0349ccc67dd24370df4c7e452e924.jpg",message:"I'm fine, thanks! What about you?"}]},u=function(e){return{type:"ADD-NEW-MESSAGE",message:e}};t.b=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD-NEW-MESSAGE":var u={author:"me",avatar:"https://invisionbyte.ru/test/uploads/monthly_2018_01/Wmug__uf.thumb.jpg.eca0349ccc67dd24370df4c7e452e924.jpg",message:a.message};e=Object(r.a)(Object(r.a)({},t),{},{newMessageText:"",activeDialogMessagesData:[].concat(Object(n.a)(t.activeDialogMessagesData),[u])});break;default:e=Object(r.a)({},t)}return e}},8:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return i}));var n=a(92),r=a.n(n).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"243c72f1-6008-4b8d-8dff-b9a03a32b432"}}),s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},followUserById:function(e){return r.post("follow/".concat(e)).then((function(e){return e.data}))},unfollowUserById:function(e){return r.delete("follow/".concat(e)).then((function(e){return e.data}))},setUserInfoById:function(e){return console.warn("Method deprecated! Use profileAPI method to set user info."),u.setUserInfoById(e)}},u={setUserInfoById:function(e){return r.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return r.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return r.put("profile/status",{status:e}).then((function(e){return e.data}))},uploadPhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},saveProfileData:function(e){return r.put("profile",e).then((function(e){return e.data}))}},o={me:function(){return r.get("auth/me").then((function(e){return e.data}))},login:function(e){return r.post("auth/login",{email:e.email,password:e.password,rememberMe:e.rememberMe,captcha:!!e.captcha&&e.captcha}).then((function(e){return e.data}))},logout:function(){return r.delete("auth/login").then((function(e){return e.data}))}},i={getCaptchaUrl:function(){return r.get("security/get-captcha-url").then((function(e){return e.data}))}};t.b=s},9:function(e,t,a){e.exports={nav:"Nav_nav__3A-Vq",title:"Nav_title__3ZPaR",item:"Nav_item__1h5o-",active:"Nav_active__PnmBd"}},96:function(e,t,a){e.exports=a.p+"static/media/logo.61bc6499.png"},97:function(e,t,a){e.exports=a.p+"static/media/loader.d8e9df89.svg"},98:function(e,t,a){e.exports={follow:"Follow_follow__3wl08"}}},[[147,2,3]]]);
//# sourceMappingURL=main.3482e6ae.chunk.js.map