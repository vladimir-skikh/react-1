{"version":3,"sources":["components/common/FormControls/FormControls.module.css","utils/validators/validators.ts","components/common/FormControls/FormControls.tsx","components/News/News.module.css","components/News/Post/Post.module.css","components/News/NewPost/NewPost.module.css","redux/selectors/newsSelector.ts","components/News/Post/Post.jsx","components/News/NewPost/NewPost.jsx","components/News/NewPost/NewPostContainer.jsx","components/News/News.jsx","components/News/NewsContainer.jsx"],"names":["module","exports","required","value","undefined","maxLength","max","length","maxLength3000","email","test","FromControl","meta","children","formControlProps","hasError","checkSubmit","touched","error","submitFailed","side","style","right","left","errorSignSide","rightSignError","leftSignError","className","formControl","wrapperClassName","classnames","errorMessageBlock","errorMessage","Textarea","props","input","restProps","inputClassName","Input","getNews","state","newsReducer","postsData","Post","postPhoto","authorAvatar","authorName","postText","item","src","alt","postDesc","author","avatar","authorDesc","authorDesc__left","userName","published","authorDesc__right","like","text","NewPostFromRedux","reduxForm","form","handleSubmit","newpost_button","onSubmit","newpost","newpostTextareaBlock","Field","newpostTextarea","newpostTextareaWrapper","component","name","validate","placeholder","NewPost","addNewPost","profile_block_newpost","formData","newPostText","actionCreators","addPostActionCreator","NewPostContainer","connect","News","React","memo","posts","map","post","key","id","newPostBlock","news","NewsContainer","compose","withAuthRedirect"],"mappings":"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","file":"static/js/5.55d8be69.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__20Vm3\",\"error\":\"FormControls_error__PGvtL\",\"errorMessageBlock\":\"FormControls_errorMessageBlock__6UYSD\",\"rightSignError\":\"FormControls_rightSignError__1ozix\",\"leftSignError\":\"FormControls_leftSignError__3LVnT\",\"right\":\"FormControls_right__24pmc\",\"left\":\"FormControls_left__22KrQ\",\"errorMessage\":\"FormControls_errorMessage__1dqQA\",\"summaryFormError\":\"FormControls_summaryFormError__2Y5V-\"};","export const required = (value: string): string | undefined => {\r\n    let check = value ? undefined : 'Field is required';\r\n    return check;\r\n}\r\n\r\nconst maxLength = (\r\n    max: number\r\n) => (value: string): string | undefined => value && value.length > max ? `Must be ${max} characters or less` : undefined;\r\nexport const maxLength10 = maxLength(10);\r\nexport const maxLength300 = maxLength(300);\r\nexport const maxLength3000 = maxLength(3000);\r\n\r\nexport const email = (value: string): string | undefined => value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value) ? 'Invalid email address' : undefined;","import React, { FC } from 'react';\r\nimport style from './FormControls.module.css';\r\nimport classnames from 'classnames';\r\nimport { WrappedFieldMetaProps, WrappedFieldProps } from 'redux-form';\r\n\r\ntype InputPropsType = {\r\n    inputClassName?: string\r\n    wrapperClassName?: string\r\n    side?: string\r\n    checkSubmit?: boolean\r\n    errorSignSide?: string\r\n}\r\n\r\ntype FromControlPropsType = {\r\n    input: any,\r\n    meta: WrappedFieldMetaProps,\r\n    formControlProps: InputPropsType\r\n}\r\n\r\n/** используется деструктуризация (rest оператор) */\r\nconst FromControl: FC<FromControlPropsType> = ({\r\n    meta,\r\n    children, \r\n    formControlProps\r\n}) => {\r\n    const hasError = formControlProps.checkSubmit ? meta.touched && meta.error && meta.submitFailed : meta.touched && meta.error;\r\n    const side = (formControlProps.side && formControlProps.side === 'right') ? style.right : style.left;\r\n    const errorSignSide = (formControlProps.errorSignSide && formControlProps.errorSignSide === 'right') ? style.rightSignError : style.leftSignError;\r\n\r\n    return (\r\n        <div className={\r\n            style.formControl + ' ' \r\n            + errorSignSide + ' ' \r\n            + formControlProps.wrapperClassName + ' '\r\n            + (hasError ? style.error : '')\r\n        }>\r\n            {children}\r\n            {\r\n                ( hasError ) ?\r\n                    <div className={classnames(style.errorMessageBlock, side)}>\r\n                        <span className={style.errorMessage}>\r\n                            {meta.error}\r\n                        </span>\r\n                    </div> \r\n                : ''\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const Textarea: FC<WrappedFieldProps & InputPropsType> = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n\r\n    const formControlProps: InputPropsType = {\r\n        inputClassName: props.inputClassName ? props.inputClassName : '',\r\n        wrapperClassName: props.wrapperClassName ? props.wrapperClassName : '',\r\n        side: props.side,\r\n        errorSignSide: props.errorSignSide\r\n    }\r\n\r\n    return <FromControl \r\n        {...props} \r\n        meta={meta}\r\n        input={input}\r\n        formControlProps={formControlProps}\r\n    > \r\n        <textarea {...input} {...restProps} className={formControlProps.inputClassName}/> \r\n    </FromControl>\r\n}\r\n\r\nexport const Input: FC<WrappedFieldProps & InputPropsType> = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n\r\n    const formControlProps: InputPropsType = {\r\n        inputClassName: props.inputClassName ? props.inputClassName : '',\r\n        wrapperClassName: props.wrapperClassName ? props.wrapperClassName : '',\r\n        side: props.side,\r\n        errorSignSide: props.errorSignSide\r\n    }\r\n\r\n    return <FromControl \r\n        meta={meta}\r\n        input={input}\r\n        formControlProps={formControlProps}\r\n    > \r\n        <input {...input} {...restProps} className={formControlProps.inputClassName}/> \r\n    </FromControl>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__1rcBp\",\"newPostBlock\":\"News_newPostBlock__3xxRH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1eZAQ\",\"postDesc\":\"Post_postDesc__2ngZY\",\"author\":\"Post_author__vvWhZ\",\"authorDesc\":\"Post_authorDesc__1Aw_i\",\"authorDesc__left\":\"Post_authorDesc__left__2DRew\",\"published\":\"Post_published__2fcK6\",\"userName\":\"Post_userName__1zo7v\",\"avatar\":\"Post_avatar__2yDUw\",\"text\":\"Post_text__2uoNa\",\"like\":\"Post_like__2-j3s\",\"postPhoto\":\"Post_postPhoto__1Kuv6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newpost\":\"NewPost_newpost__22_Eo\",\"newpostTextareaBlock\":\"NewPost_newpostTextareaBlock__2QNQy\",\"newpostTextareaWrapper\":\"NewPost_newpostTextareaWrapper__27pvU\",\"newpostTextarea\":\"NewPost_newpostTextarea__pg0Ni\",\"newpost_button\":\"NewPost_newpost_button__CA1NR\"};","import { PostType } from './../types/types';\r\nimport { AppStateType } from './../reduxStore';\r\n\r\nexport const getNews = (state: AppStateType): Array<PostType> => {\r\n    return state.newsReducer.postsData;\r\n}","import React from \"react\";\r\nimport style from './Post.module.css';\r\n\r\nconst Post = ({\r\n  postPhoto, \r\n  authorAvatar, \r\n  authorName, \r\n  postText\r\n}) => {\r\n  return (\r\n    <div className={style.item}>\r\n      <img src={postPhoto} alt=\"\" className={style.postPhoto}/>\r\n      <div className={style.postDesc}>\r\n        <div className={style.author}>\r\n          <img src={authorAvatar} alt=\"\" className={style.avatar}/>\r\n          <div className={style.authorDesc}>\r\n            <div className={style.authorDesc__left}>\r\n              <span className={style.userName}>{authorName}</span>\r\n              <span className={style.published}>Published a photo about 3 mins ago</span>\r\n            </div>\r\n            <div className={style.authorDesc__right}>\r\n              <span className={style.like}>Like</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={style.text}>\r\n          <p>{ postText }</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Post;","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport style from \"./NewPost.module.css\";\r\nimport {required, maxLength3000} from '../../../utils/validators/validators';\r\nimport {Textarea} from '../../common/FormControls/FormControls';\r\n\r\n\r\nlet NewPost = ({addNewPost}) => {\r\n    \r\n    let onAddPost = (formData) => {\r\n        addNewPost(formData.newPostText);\r\n    };\r\n\r\n    return (\r\n        <div className={style.profile_block_newpost}>\r\n            <NewPostFromRedux onSubmit={onAddPost} />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewPostFrom = ({handleSubmit, newpost_button}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} className={style.newpost}>\r\n            <div className={style.newpostTextareaBlock}>\r\n                <Field\r\n                    inputClassName={style.newpostTextarea}\r\n                    wrapperClassName={style.newpostTextareaWrapper}\r\n                    component={Textarea}\r\n                    name=\"newPostText\"\r\n                    validate={[required, maxLength3000]}\r\n                    placeholder=\"Post message\"\r\n                    errorSignSide='right'\r\n                    checkSubmit={true}\r\n                />\r\n            </div>\r\n            <button className={style.newpost_button}>\r\n                Publish\r\n            </button>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst NewPostFromRedux = reduxForm({\r\n    form: 'newPostForm',\r\n})(NewPostFrom);\r\n\r\nexport default NewPost;\r\n","import { connect } from \"react-redux\";\r\nimport NewPost from \"./NewPost\"\r\nimport {addPostActionCreator} from '../../../redux/newsPageReducer'\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nlet actionCreators = {\r\n    addNewPost: addPostActionCreator,\r\n}\r\n\r\nconst NewPostContainer = connect(mapStateToProps, actionCreators)(NewPost);\r\n\r\nexport default NewPostContainer;\r\n","import React from \"react\";\r\nimport style from \"./News.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport NewPostContainer from './NewPost/NewPostContainer';\r\n\r\n/** React memo делает оптимизацию по типу shoudComponentUpdate или PureComponent */\r\nconst News = React.memo( ({postsData}) => {\r\n\r\n    let posts = postsData.map( post => \r\n            <Post\r\n                postText={post.postText}\r\n                postPhoto={post.postPhoto}\r\n                authorAvatar={post.authorAvatar}\r\n                authorName={post.authorName}\r\n                key={post.id}\r\n            />\r\n        );\r\n    \r\n    return (\r\n        <div>\r\n            <div className={style.newPostBlock}>\r\n                <NewPostContainer />\r\n            </div>\r\n            <div className={style.news}>\r\n                {posts}\r\n            </div>\r\n        </div>\r\n    );\r\n    \r\n});\r\nexport default News;\r\n","import { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { getNews } from \"../../redux/selectors/newsSelector\";\r\nimport News from \"./News\";\r\nimport withAuthRedirect from \"../hoc/withAuthRedirect\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        postsData: getNews(state),\r\n    }\r\n}\r\nlet actionCreators = {}\r\n\r\nconst NewsContainer = compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, actionCreators),\r\n)(News);\r\n\r\nexport default NewsContainer;\r\n"],"sourceRoot":""}